<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en" class="win-std-desktop-val"><head>
<META http-equiv="Content-Type" content="text/html">
<title>Source View: https://cdn.ketchjs.com/ketchtag/stable/v2.12/ketch.js</title><meta name="robots" content="noindex,nofollow"><meta name="SortSite-IgnoreRule-Page" content="AccHtmlLinkTextReused,AccAdvancedReadingLevel,Section508-m-3,BugHtmlColgroup,BugIeCssMinMaxWidthHeight,ErrSpellingError,SeoBingTitleLength,SeoPage150k,UseGov5.1,UseGov9.2.3,UseGov10.11,UseGov11.7,UseGov14.3,UseGov17.4,UseGunningFog,W3cTitleTooLong"><link rel="icon" href="https://www-powermapper-com.azureedge.net/favicon.ico"><link rel="stylesheet" href="../Report/report-min-20230801.css"><script type="text/javascript" src="../Report/report-min-20210409.js"></script></head><body class="source"><a class="accessible" href="#content">Skip to Content</a><header><h1>
                        JavaScript File
                    </h1><table><tr><th>
                        URL:
                    </th><td><a rel="nofollow" target="_top" href="https://cdn.ketchjs.com/ketchtag/stable/v2.12/ketch.js">https://cdn.ketchjs.com/ketchtag/stable/v2.12/ketch.js</a></td></tr><tr><th>
                        HTTP Status:
                    </th><td>200 OK</td></tr><tr><th>
                        MIME Type:
                    </th><td>text/javascript </td></tr><tr><th>
                        Last Modified:
                    </th><td>Sat, 08 Feb 2025 00:04:54 GMT</td></tr><tr><th>
                        Download Time:
                    </th><td>
                                Less than a second
                            </td></tr><tr><th>
                        Cookies:
                    </th><td>
                                None
                            </td></tr><tr><th>
                        Size:
                    </th><td>143 KB
                        </td></tr><tr><th>
                        HTTP Headers:
                    </th><td><button class="chevron toggleChevron" data-toggleid="HttpHeaders" aria-label="View Headers"><img width="20" height="20" alt="" id="chevHttpHeaders" src="../Report/chevron-down.svg"></button><span>&nbsp;17&nbsp;headers</span><div class="links" id="expand-HttpHeaders">accept-ranges: bytes<br>age: 60<br>alt-svc: h3=":443";ma=86400,h3-29=":443";ma=86400,h3-27=":443";ma=86400<br>cache-control: public, max-age=1200<br>connection: keep-alive<br>content-security-policy: default-src 'self'<br>date: Thu, 20 Feb 2025 20:35:18 GMT<br>request-id: ec0f29e4-1c50-46b3-b202-dccdf653a8a8<br>strict-transport-security: max-age=31557600; includeSubDomains; preload<br>via: 1.1 varnish, 1.1 varnish<br>x-cache: HIT, HIT<br>x-cache-hits: 116567, 1<br>x-content-type-options: nosniff<br>x-frame-options: deny<br>x-served-by: cache-pdx12320-PDX, cache-mnl9724-MNL<br>x-timer: S1740083718.092732,VS0,VE1<br>x-xss-protection: 1; mode=block<br></div></td></tr><tr><th>
                        Links In:
                    </th><td><button class="chevron toggleChevron" data-toggleid="LinksIn" aria-label="View Links"><img width="20" height="20" alt="" id="chevLinksIn" src="../Report/chevron-down.svg"></button><span>&nbsp;1&nbsp;pages</span><div class="links" id="expand-LinksIn"><a class="viewsource" rel="nofollow" target="_top" href="https://www.jamesbeard.org/" data-pageid="1" data-line="0" data-col="0">https://www.jamesbeard.org/</a><br></div></td></tr><tr class="middle"><th><img alt="OK" width="20" height="20" src="../Report/bench-better.svg">
                                Issues:
                            </th><td>
                                No issues found
                            </td></tr></table></header><main id="content" class="pre"><p><code>1</code><code>/*! For license information please see ketch.js.LICENSE.txt */</code></p><p><code>2</code><code>(()=&gt;{var e={7007:e=&gt;{"use strict";var t,n="object"==typeof Reflect?Reflect:null,o=n&amp;&amp;"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)}</code></p><p><code>3</code><code>;t=n&amp;&amp;"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}</code></p><p><code>4</code><code>:function(e){return Object.getOwnPropertyNames(e)}</code></p><p><code>5</code><code>;var i=Number.isNaN||function(e){return e!=e}</code></p><p><code>6</code><code>;function r(){r.init.call(this)}</code></p><p><code>7</code><code>e.exports=r,e.exports.once=function(e,t){return new Promise((function(n,o){function i(n){e.removeListener(t,r),o(n)}</code></p><p><code>8</code><code>function r(){"function"==typeof e.removeListener&amp;&amp;e.removeListener("error",i),n([].slice.call(arguments))}</code></p><p><code>9</code><code>_(e,t,r,{once:!0}</code></p><p><code>10</code><code>),"error"!==t&amp;&amp;function(e,t){"function"==typeof e.on&amp;&amp;_(e,"error",t,{once:!0}</code></p><p><code>11</code><code>)}</code></p><p><code>12</code><code>(e,i)}</code></p><p><code>13</code><code>))}</code></p><p><code>14</code><code>,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}</code></p><p><code>15</code><code>function c(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}</code></p><p><code>16</code><code>function u(e,t,n,o){var i,r,s,u;if(a(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&amp;&amp;(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),s=r[t]),void 0===s)s=r[t]=n,++e._eventsCount;else if("function"==typeof s?s=r[t]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),(i=c(e))&gt;0&amp;&amp;s.length&gt;i&amp;&amp;!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=s.length,u=d,console&amp;&amp;console.warn&amp;&amp;console.warn(u)}</code></p><p><code>17</code><code>return e}</code></p><p><code>18</code><code>function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}</code></p><p><code>19</code><code>function l(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n}</code></p><p><code>20</code><code>,i=d.bind(o);return i.listener=n,o.wrapFn=i,i}</code></p><p><code>21</code><code>function f(e,t,n){var o=e._events;if(void 0===o)return[];var i=o[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n&lt;t.length;++n)t[n]=e[n].listener||e[n];return t}</code></p><p><code>22</code><code>(i):h(i,i.length)}</code></p><p><code>23</code><code>function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}</code></p><p><code>24</code><code>return 0}</code></p><p><code>25</code><code>function h(e,t){for(var n=new Array(t),o=0;o&lt;t;++o)n[o]=e[o];return n}</code></p><p><code>26</code><code>function _(e,t,n,o){if("function"==typeof e.on)o.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){o.once&amp;&amp;e.removeEventListener(t,i),n(r)}</code></p><p><code>27</code><code>))}</code></p><p><code>28</code><code>}</code></p><p><code>29</code><code>Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s}</code></p><p><code>30</code><code>,set:function(e){if("number"!=typeof e||e&lt;0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}</code></p><p><code>31</code><code>}</code></p><p><code>32</code><code>),r.init=function(){void 0!==this._events&amp;&amp;this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}</code></p><p><code>33</code><code>,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e&lt;0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}</code></p><p><code>34</code><code>,r.prototype.getMaxListeners=function(){return c(this)}</code></p><p><code>35</code><code>,r.prototype.emit=function(e){for(var t=[],n=1;n&lt;arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&amp;&amp;void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length&gt;0&amp;&amp;(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}</code></p><p><code>36</code><code>var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,d=h(c,u);for(n=0;n&lt;u;++n)o(d[n],this,t)}</code></p><p><code>37</code><code>return!0}</code></p><p><code>38</code><code>,r.prototype.addListener=function(e,t){return u(this,e,t,!1)}</code></p><p><code>39</code><code>,r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return u(this,e,t,!0)}</code></p><p><code>40</code><code>,r.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this}</code></p><p><code>41</code><code>,r.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this}</code></p><p><code>42</code><code>,r.prototype.removeListener=function(e,t){var n,o,i,r,s;if(a(t),void 0===(o=this._events))return this;if(void 0===(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&amp;&amp;this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,r=n.length-1;r&gt;=0;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,i=r;break}</code></p><p><code>43</code><code>if(i&lt;0)return this;0===i?n.shift():function(e,t){for(;t+1&lt;e.length;t++)e[t]=e[t+1];e.pop()}</code></p><p><code>44</code><code>(n,i),1===n.length&amp;&amp;(o[e]=n[0]),void 0!==o.removeListener&amp;&amp;this.emit("removeListener",e,s||t)}</code></p><p><code>45</code><code>return this}</code></p><p><code>46</code><code>,r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&amp;&amp;(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,r=Object.keys(n);for(o=0;o&lt;r.length;++o)"removeListener"!==(i=r[o])&amp;&amp;this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}</code></p><p><code>47</code><code>if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o&gt;=0;o--)this.removeListener(e,t[o]);return this}</code></p><p><code>48</code><code>,r.prototype.listeners=function(e){return f(this,e,!0)}</code></p><p><code>49</code><code>,r.prototype.rawListeners=function(e){return f(this,e,!1)}</code></p><p><code>50</code><code>,r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)}</code></p><p><code>51</code><code>,r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount&gt;0?t(this._events):[]}</code></p><p><code>52</code><code>}</code></p><p><code>53</code><code>,9207:e=&gt;{function t(e){var t=typeof e;return"object"===t?null===e?"null":function(e){if(Array.isArray(e))return!0;var t=e.length;return"number"==typeof t&amp;&amp;t&gt;-1&amp;&amp;(!t||0 in e&amp;&amp;t-1 in e)}</code></p><p><code>54</code><code>(e)?"array":e.constructor===Object?"pure-object":"object":t}</code></p><p><code>55</code><code>e.exports=function e(n,o){if(n===o)return!0;if(n!=n&amp;&amp;o!=o)return!0;var i=t(n);if(i!==t(o))return!1;if("pure-object"===i){if(n===o)return!0;var r=Object.keys(n),s=Object.keys(o).length;if(r.length!==s)return!1;for(var a=0,c=r.length;a&lt;c;a++){var u=r[a];if(!o.hasOwnProperty(r[a]))return!1;var d=n[u],l=o[u];if(d===n||l===o||d===o||l===n)return d===l;if(!e(d,l))return!1}</code></p><p><code>56</code><code>return!0}</code></p><p><code>57</code><code>if("array"===i){if(n.length!==o.length)return!1;for(var f=0;f&lt;n.length;f++){var p=n[f],h=o[f];if(p===n||h===o||p===o||h===n)return p===h;if(!e(p,h))return!1}</code></p><p><code>58</code><code>return!0}</code></p><p><code>59</code><code>if("object"===i){if(n.valueOf!==Object.prototype.valueOf()&amp;&amp;o.valueOf!==Object.prototype.valueOf())return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString()&amp;&amp;o.toString!==Object.prototype.toString())return n.toString()===o.toString()}</code></p><p><code>60</code><code>return!1}</code></p><p><code>61</code><code>}</code></p><p><code>62</code><code>,7458:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>63</code><code>);const o=n(1635),i=(0,n(5305).getLogger)("appDivs");t.default=function(e){var t,n,r;return o.__awaiter(this,void 0,void 0,(function*(){const o=yield e.getConfig();let s=[];i.debug("init",null===(t=o.options)||void 0===t?void 0:t.appDivs);const a=null===(r=null===(n=o.options)||void 0===n?void 0:n.appDivs)||void 0===r?void 0:r.trim();if(null==a?void 0:a.length){const t=a.split(",");e.on("willShowExperience",(()=&gt;{i.debug("willShowExperience");for(const e of t){const t=document.getElementById(e);t&amp;&amp;(i.debug("obscuring",e),s.push({id:e,zIndex:t.style.zIndex}</code></p><p><code>64</code><code>),t.style.zIndex="-1")}</code></p><p><code>65</code><code>}</code></p><p><code>66</code><code>)),e.on("hideExperience",(()=&gt;{i.debug("hideExperience");for(const e of s){const t=document.getElementById(e.id);t&amp;&amp;(i.debug("restoring",t.id),t.style.zIndex=e.zIndex)}</code></p><p><code>67</code><code>s=[]}</code></p><p><code>68</code><code>))}</code></p><p><code>69</code><code>}</code></p><p><code>70</code><code>))}</code></p><p><code>71</code><code>}</code></p><p><code>72</code><code>,6865:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>73</code><code>);const o=n(1635),i=(0,n(5305).getLogger)("dataLayer");function r(){return window.dataLayer=window.dataLayer||[]}</code></p><p><code>74</code><code>t.default=function(e){return o.__awaiter(this,void 0,void 0,(function*(){e.on("geoip",(e=&gt;{i.info("pushGeoIP",e);const t={event:"ketchGeoip",ip:e.ip,countryCode:e.countryCode,regionCode:e.regionCode}</code></p><p><code>75</code><code>;r().push(t)}</code></p><p><code>76</code><code>)),e.on("jurisdiction",(e=&gt;{i.info("pushJurisdiction",e);const t={event:"ketchJurisdiction",jurisdictionCode:e}</code></p><p><code>77</code><code>;r().push(t)}</code></p><p><code>78</code><code>))}</code></p><p><code>79</code><code>))}</code></p><p><code>80</code><code>}</code></p><p><code>81</code><code>,5307:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>82</code><code>);const o=n(1635),i=o.__importDefault(n(7458)),r=o.__importDefault(n(6865)),s=n(5305),a=n(8163),c=(0,s.getLogger)("ketch");t.default=function(e){return o.__awaiter(this,void 0,void 0,(function*(){return c.info(`version ${a.version}</code></p><p><code>83</code><code>`),Promise.all([(0,i.default)(e),(0,r.default)(e)]).then((()=&gt;{}</code></p><p><code>84</code><code>))}</code></p><p><code>85</code><code>))}</code></p><p><code>86</code><code>}</code></p><p><code>87</code><code>,2831:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>88</code><code>),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}</code></p><p><code>89</code><code>}</code></p><p><code>90</code><code>),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}</code></p><p><code>91</code><code>}</code></p><p><code>92</code><code>),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}</code></p><p><code>93</code><code>}</code></p><p><code>94</code><code>),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}</code></p><p><code>95</code><code>}</code></p><p><code>96</code><code>),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}</code></p><p><code>97</code><code>}</code></p><p><code>98</code><code>),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}</code></p><p><code>99</code><code>}</code></p><p><code>100</code><code>),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}</code></p><p><code>101</code><code>}</code></p><p><code>102</code><code>),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}</code></p><p><code>103</code><code>}</code></p><p><code>104</code><code>),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}</code></p><p><code>105</code><code>}</code></p><p><code>106</code><code>);var o=f(n(3518)),i=f(n(4948)),r=f(n(5073)),s=f(n(7186)),a=f(n(4808)),c=f(n(7775)),u=f(n(7037)),d=f(n(9910)),l=f(n(6792));function f(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>107</code><code>}</code></p><p><code>108</code><code>}</code></p><p><code>109</code><code>,2311:(e,t)=&gt;{"use strict";function n(e){return 14+(e+64&gt;&gt;&gt;9&lt;&lt;4)+1}</code></p><p><code>110</code><code>function o(e,t){const n=(65535&amp;e)+(65535&amp;t);return(e&gt;&gt;16)+(t&gt;&gt;16)+(n&gt;&gt;16)&lt;&lt;16|65535&amp;n}</code></p><p><code>111</code><code>function i(e,t,n,i,r,s){return o((a=o(o(t,e),o(i,s)))&lt;&lt;(c=r)|a&gt;&gt;&gt;32-c,n);var a,c}</code></p><p><code>112</code><code>function r(e,t,n,o,r,s,a){return i(t&amp;n|~t&amp;o,e,t,r,s,a)}</code></p><p><code>113</code><code>function s(e,t,n,o,r,s,a){return i(t&amp;o|n&amp;~o,e,t,r,s,a)}</code></p><p><code>114</code><code>function a(e,t,n,o,r,s,a){return i(t^n^o,e,t,r,s,a)}</code></p><p><code>115</code><code>function c(e,t,n,o,r,s,a){return i(n^(t|~o),e,t,r,s,a)}</code></p><p><code>116</code><code>Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>117</code><code>),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n&lt;t.length;++n)e[n]=t.charCodeAt(n)}</code></p><p><code>118</code><code>return function(e){const t=[],n=32*e.length,o="0123456789abcdef";for(let i=0;i&lt;n;i+=8){const n=e[i&gt;&gt;5]&gt;&gt;&gt;i%32&amp;255,r=parseInt(o.charAt(n&gt;&gt;&gt;4&amp;15)+o.charAt(15&amp;n),16);t.push(r)}</code></p><p><code>119</code><code>return t}</code></p><p><code>120</code><code>(function(e,t){e[t&gt;&gt;5]|=128&lt;&lt;t%32,e[n(t)-1]=t;let i=1732584193,u=-271733879,d=-1732584194,l=271733878;for(let t=0;t&lt;e.length;t+=16){const n=i,f=u,p=d,h=l;i=r(i,u,d,l,e[t],7,-680876936),l=r(l,i,u,d,e[t+1],12,-389564586),d=r(d,l,i,u,e[t+2],17,606105819),u=r(u,d,l,i,e[t+3],22,-1044525330),i=r(i,u,d,l,e[t+4],7,-176418897),l=r(l,i,u,d,e[t+5],12,1200080426),d=r(d,l,i,u,e[t+6],17,-1473231341),u=r(u,d,l,i,e[t+7],22,-45705983),i=r(i,u,d,l,e[t+8],7,1770035416),l=r(l,i,u,d,e[t+9],12,-1958414417),d=r(d,l,i,u,e[t+10],17,-42063),u=r(u,d,l,i,e[t+11],22,-1990404162),i=r(i,u,d,l,e[t+12],7,1804603682),l=r(l,i,u,d,e[t+13],12,-40341101),d=r(d,l,i,u,e[t+14],17,-1502002290),u=r(u,d,l,i,e[t+15],22,1236535329),i=s(i,u,d,l,e[t+1],5,-165796510),l=s(l,i,u,d,e[t+6],9,-1069501632),d=s(d,l,i,u,e[t+11],14,643717713),u=s(u,d,l,i,e[t],20,-373897302),i=s(i,u,d,l,e[t+5],5,-701558691),l=s(l,i,u,d,e[t+10],9,38016083),d=s(d,l,i,u,e[t+15],14,-660478335),u=s(u,d,l,i,e[t+4],20,-405537848),i=s(i,u,d,l,e[t+9],5,568446438),l=s(l,i,u,d,e[t+14],9,-1019803690),d=s(d,l,i,u,e[t+3],14,-187363961),u=s(u,d,l,i,e[t+8],20,1163531501),i=s(i,u,d,l,e[t+13],5,-1444681467),l=s(l,i,u,d,e[t+2],9,-51403784),d=s(d,l,i,u,e[t+7],14,1735328473),u=s(u,d,l,i,e[t+12],20,-1926607734),i=a(i,u,d,l,e[t+5],4,-378558),l=a(l,i,u,d,e[t+8],11,-2022574463),d=a(d,l,i,u,e[t+11],16,1839030562),u=a(u,d,l,i,e[t+14],23,-35309556),i=a(i,u,d,l,e[t+1],4,-1530992060),l=a(l,i,u,d,e[t+4],11,1272893353),d=a(d,l,i,u,e[t+7],16,-155497632),u=a(u,d,l,i,e[t+10],23,-1094730640),i=a(i,u,d,l,e[t+13],4,681279174),l=a(l,i,u,d,e[t],11,-358537222),d=a(d,l,i,u,e[t+3],16,-722521979),u=a(u,d,l,i,e[t+6],23,76029189),i=a(i,u,d,l,e[t+9],4,-640364487),l=a(l,i,u,d,e[t+12],11,-421815835),d=a(d,l,i,u,e[t+15],16,530742520),u=a(u,d,l,i,e[t+2],23,-995338651),i=c(i,u,d,l,e[t],6,-198630844),l=c(l,i,u,d,e[t+7],10,1126891415),d=c(d,l,i,u,e[t+14],15,-1416354905),u=c(u,d,l,i,e[t+5],21,-57434055),i=c(i,u,d,l,e[t+12],6,1700485571),l=c(l,i,u,d,e[t+3],10,-1894986606),d=c(d,l,i,u,e[t+10],15,-1051523),u=c(u,d,l,i,e[t+1],21,-2054922799),i=c(i,u,d,l,e[t+8],6,1873313359),l=c(l,i,u,d,e[t+15],10,-30611744),d=c(d,l,i,u,e[t+6],15,-1560198380),u=c(u,d,l,i,e[t+13],21,1309151649),i=c(i,u,d,l,e[t+4],6,-145523070),l=c(l,i,u,d,e[t+11],10,-1120210379),d=c(d,l,i,u,e[t+2],15,718787259),u=c(u,d,l,i,e[t+9],21,-343485551),i=o(i,n),u=o(u,f),d=o(d,p),l=o(l,h)}</code></p><p><code>121</code><code>return[i,u,d,l]}</code></p><p><code>122</code><code>(function(e){if(0===e.length)return[];const t=8*e.length,o=new Uint32Array(n(t));for(let n=0;n&lt;t;n+=8)o[n&gt;&gt;5]|=(255&amp;e[n/8])&lt;&lt;n%32;return o}</code></p><p><code>123</code><code>(e),8*e.length))}</code></p><p><code>124</code><code>}</code></p><p><code>125</code><code>,6140:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>126</code><code>),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&amp;&amp;crypto.randomUUID&amp;&amp;crypto.randomUUID.bind(crypto)}</code></p><p><code>127</code><code>;t.default=n}</code></p><p><code>128</code><code>,4808:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>129</code><code>),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"}</code></p><p><code>130</code><code>,6792:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>131</code><code>),t.default=void 0;var o,i=(o=n(7037))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>132</code><code>;t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))&gt;&gt;&gt;24,n[1]=t&gt;&gt;&gt;16&amp;255,n[2]=t&gt;&gt;&gt;8&amp;255,n[3]=255&amp;t,n[4]=(t=parseInt(e.slice(9,13),16))&gt;&gt;&gt;8,n[5]=255&amp;t,n[6]=(t=parseInt(e.slice(14,18),16))&gt;&gt;&gt;8,n[7]=255&amp;t,n[8]=(t=parseInt(e.slice(19,23),16))&gt;&gt;&gt;8,n[9]=255&amp;t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&amp;255,n[11]=t/4294967296&amp;255,n[12]=t&gt;&gt;&gt;24&amp;255,n[13]=t&gt;&gt;&gt;16&amp;255,n[14]=t&gt;&gt;&gt;8&amp;255,n[15]=255&amp;t,n}</code></p><p><code>133</code><code>}</code></p><p><code>134</code><code>,7656:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>135</code><code>),t.default=void 0,t.default=/^(?:[0-9a-f]{8}</code></p><p><code>136</code><code>-[0-9a-f]{4}</code></p><p><code>137</code><code>-[1-5][0-9a-f]{3}</code></p><p><code>138</code><code>-[89ab][0-9a-f]{3}</code></p><p><code>139</code><code>-[0-9a-f]{12}</code></p><p><code>140</code><code>|00000000-0000-0000-0000-000000000000)$/i}</code></p><p><code>141</code><code>,2858:(e,t)=&gt;{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>142</code><code>),t.default=function(){if(!n&amp;&amp;(n="undefined"!=typeof crypto&amp;&amp;crypto.getRandomValues&amp;&amp;crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}</code></p><p><code>143</code><code>;const o=new Uint8Array(16)}</code></p><p><code>144</code><code>,9042:(e,t)=&gt;{"use strict";function n(e,t,n,o){switch(e){case 0:return t&amp;n^~t&amp;o;case 1:case 3:return t^n^o;case 2:return t&amp;n^t&amp;o^n&amp;o}</code></p><p><code>145</code><code>}</code></p><p><code>146</code><code>function o(e,t){return e&lt;&lt;t|e&gt;&gt;&gt;32-t}</code></p><p><code>147</code><code>Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>148</code><code>),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n&lt;t.length;++n)e.push(t.charCodeAt(n))}</code></p><p><code>149</code><code>else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),a=new Array(s);for(let t=0;t&lt;s;++t){const n=new Uint32Array(16);for(let o=0;o&lt;16;++o)n[o]=e[64*t+4*o]&lt;&lt;24|e[64*t+4*o+1]&lt;&lt;16|e[64*t+4*o+2]&lt;&lt;8|e[64*t+4*o+3];a[t]=n}</code></p><p><code>150</code><code>a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&amp;4294967295;for(let e=0;e&lt;s;++e){const r=new Uint32Array(80);for(let t=0;t&lt;16;++t)r[t]=a[e][t];for(let e=16;e&lt;80;++e)r[e]=o(r[e-3]^r[e-8]^r[e-14]^r[e-16],1);let s=i[0],c=i[1],u=i[2],d=i[3],l=i[4];for(let e=0;e&lt;80;++e){const i=Math.floor(e/20),a=o(s,5)+n(i,c,u,d)+l+t[i]+r[e]&gt;&gt;&gt;0;l=d,d=u,u=o(c,30)&gt;&gt;&gt;0,c=s,s=a}</code></p><p><code>151</code><code>i[0]=i[0]+s&gt;&gt;&gt;0,i[1]=i[1]+c&gt;&gt;&gt;0,i[2]=i[2]+u&gt;&gt;&gt;0,i[3]=i[3]+d&gt;&gt;&gt;0,i[4]=i[4]+l&gt;&gt;&gt;0}</code></p><p><code>152</code><code>return[i[0]&gt;&gt;24&amp;255,i[0]&gt;&gt;16&amp;255,i[0]&gt;&gt;8&amp;255,255&amp;i[0],i[1]&gt;&gt;24&amp;255,i[1]&gt;&gt;16&amp;255,i[1]&gt;&gt;8&amp;255,255&amp;i[1],i[2]&gt;&gt;24&amp;255,i[2]&gt;&gt;16&amp;255,i[2]&gt;&gt;8&amp;255,255&amp;i[2],i[3]&gt;&gt;24&amp;255,i[3]&gt;&gt;16&amp;255,i[3]&gt;&gt;8&amp;255,255&amp;i[3],i[4]&gt;&gt;24&amp;255,i[4]&gt;&gt;16&amp;255,i[4]&gt;&gt;8&amp;255,255&amp;i[4]]}</code></p><p><code>153</code><code>}</code></p><p><code>154</code><code>,9910:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>155</code><code>),t.default=void 0,t.unsafeStringify=s;var o,i=(o=n(7037))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>156</code><code>;const r=[];for(let e=0;e&lt;256;++e)r.push((e+256).toString(16).slice(1));function s(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}</code></p><p><code>157</code><code>t.default=function(e,t=0){const n=s(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}</code></p><p><code>158</code><code>}</code></p><p><code>159</code><code>,3518:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>160</code><code>),t.default=void 0;var o,i=(o=n(2858))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>161</code><code>,r=n(9910);let s,a,c=0,u=0;t.default=function(e,t,n){let o=t&amp;&amp;n||0;const d=t||new Array(16);let l=(e=e||{}</code></p><p><code>162</code><code>).node||s,f=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==f){const t=e.random||(e.rng||i.default)();null==l&amp;&amp;(l=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&amp;&amp;(f=a=16383&amp;(t[6]&lt;&lt;8|t[7]))}</code></p><p><code>163</code><code>let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1;const _=p-c+(h-u)/1e4;if(_&lt;0&amp;&amp;void 0===e.clockseq&amp;&amp;(f=f+1&amp;16383),(_&lt;0||p&gt;c)&amp;&amp;void 0===e.nsecs&amp;&amp;(h=0),h&gt;=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=h,a=f,p+=122192928e5;const g=(1e4*(268435455&amp;p)+h)%4294967296;d[o++]=g&gt;&gt;&gt;24&amp;255,d[o++]=g&gt;&gt;&gt;16&amp;255,d[o++]=g&gt;&gt;&gt;8&amp;255,d[o++]=255&amp;g;const v=p/4294967296*1e4&amp;268435455;d[o++]=v&gt;&gt;&gt;8&amp;255,d[o++]=255&amp;v,d[o++]=v&gt;&gt;&gt;24&amp;15|16,d[o++]=v&gt;&gt;&gt;16&amp;255,d[o++]=f&gt;&gt;&gt;8|128,d[o++]=255&amp;f;for(let e=0;e&lt;6;++e)d[o+e]=l[e];return t||(0,r.unsafeStringify)(d)}</code></p><p><code>164</code><code>}</code></p><p><code>165</code><code>,4948:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>166</code><code>),t.default=void 0;var o=r(n(9025)),i=r(n(2311));function r(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>167</code><code>}</code></p><p><code>168</code><code>var s=(0,o.default)("v3",48,i.default);t.default=s}</code></p><p><code>169</code><code>,9025:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>170</code><code>),t.URL=t.DNS=void 0,t.default=function(e,t,n){function o(e,o,s,a){var c;if("string"==typeof e&amp;&amp;(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n&lt;e.length;++n)t.push(e.charCodeAt(n));return t}</code></p><p><code>171</code><code>(e)),"string"==typeof o&amp;&amp;(o=(0,r.default)(o)),16!==(null===(c=o)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(o),u.set(e,o.length),u=n(u),u[6]=15&amp;u[6]|t,u[8]=63&amp;u[8]|128,s){a=a||0;for(let e=0;e&lt;16;++e)s[a+e]=u[e];return s}</code></p><p><code>172</code><code>return(0,i.unsafeStringify)(u)}</code></p><p><code>173</code><code>try{o.name=e}</code></p><p><code>174</code><code>catch(e){}</code></p><p><code>175</code><code>return o.DNS=s,o.URL=a,o}</code></p><p><code>176</code><code>;var o,i=n(9910),r=(o=n(6792))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>177</code><code>;const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a}</code></p><p><code>178</code><code>,5073:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>179</code><code>),t.default=void 0;var o=s(n(6140)),i=s(n(2858)),r=n(9910);function s(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>180</code><code>}</code></p><p><code>181</code><code>t.default=function(e,t,n){if(o.default.randomUUID&amp;&amp;!t&amp;&amp;!e)return o.default.randomUUID();const s=(e=e||{}</code></p><p><code>182</code><code>).random||(e.rng||i.default)();if(s[6]=15&amp;s[6]|64,s[8]=63&amp;s[8]|128,t){n=n||0;for(let e=0;e&lt;16;++e)t[n+e]=s[e];return t}</code></p><p><code>183</code><code>return(0,r.unsafeStringify)(s)}</code></p><p><code>184</code><code>}</code></p><p><code>185</code><code>,7186:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>186</code><code>),t.default=void 0;var o=r(n(9025)),i=r(n(9042));function r(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>187</code><code>}</code></p><p><code>188</code><code>var s=(0,o.default)("v5",80,i.default);t.default=s}</code></p><p><code>189</code><code>,7037:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>190</code><code>),t.default=void 0;var o,i=(o=n(7656))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>191</code><code>;t.default=function(e){return"string"==typeof e&amp;&amp;i.default.test(e)}</code></p><p><code>192</code><code>}</code></p><p><code>193</code><code>,7775:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>194</code><code>),t.default=void 0;var o,i=(o=n(7037))&amp;&amp;o.__esModule?o:{default:o}</code></p><p><code>195</code><code>;t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}</code></p><p><code>196</code><code>}</code></p><p><code>197</code><code>,8138:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>198</code><code>),t.Future=void 0;const o=n(1635),i=n(7007),r=o.__importDefault(n(9207));class s{constructor(e={}</code></p><p><code>199</code><code>){this._options=e,this._value=void 0,this._error=void 0,this._emitter=new i.EventEmitter,e.maxListeners&amp;&amp;this.setMaxListeners(e.maxListeners),e.executor&amp;&amp;this.fulfill(e.executor),this._options.timeout?this._timeout=window.setTimeout((()=&gt;{void 0===this._value&amp;&amp;void 0===this._error&amp;&amp;(this.error=new Error("timed out"))}</code></p><p><code>200</code><code>),this._options.timeout):this._timeout=void 0}</code></p><p><code>201</code><code>static resolve(e){return(new s).fulfill(e)}</code></p><p><code>202</code><code>fulfill(e){return function(e){return"function"==typeof e}</code></p><p><code>203</code><code>(e)?new Promise(e).then((e=&gt;this.value=e)).catch((e=&gt;this.error=e)):this.value=e,this}</code></p><p><code>204</code><code>isFulfilled(){return void 0!==this._value}</code></p><p><code>205</code><code>get fulfilled(){return void 0!==this._value?Promise.resolve(this._value):new Promise(((e,t)=&gt;{this.once(s.FULFILLED,e),this.once(s.ERROR,t)}</code></p><p><code>206</code><code>))}</code></p><p><code>207</code><code>get value(){if(void 0!==this._error)throw this._error;if(void 0===this._value)throw new Error("future has not been resolved");return this._value}</code></p><p><code>208</code><code>set value(e){this._timeout&amp;&amp;(window.clearTimeout(this._timeout),this._timeout=void 0),this._error=void 0,void 0!==this._value&amp;&amp;(0,r.default)(this._value,e)||(this._value=e,this._emitter.emit(s.FULFILLED,e),this._options.name&amp;&amp;this._options.emitter&amp;&amp;this._options.emitter.emit(this._options.name,e))}</code></p><p><code>209</code><code>reset(){this._timeout&amp;&amp;(window.clearTimeout(this._timeout),this._timeout=void 0);const e=this._value;this._value=void 0,this._error=void 0,this._emitter.emit(s.RESET,e),this._options.name&amp;&amp;this._options.emitter&amp;&amp;this._options.emitter.emit(this._options.name,void 0)}</code></p><p><code>210</code><code>get error(){return this._error}</code></p><p><code>211</code><code>set error(e){this._timeout&amp;&amp;(window.clearTimeout(this._timeout),this._timeout=void 0),this._error=e,this._value=void 0,void 0!==e&amp;&amp;this._emitter.emit(s.ERROR,e)}</code></p><p><code>212</code><code>addListener(e,t){return this._emitter.addListener(e,t),this.trigger(e,t),this}</code></p><p><code>213</code><code>on(e,t){return this.addListener(e,t)}</code></p><p><code>214</code><code>once(e,t){return this.trigger(e,t)||this._emitter.once(e,t),this}</code></p><p><code>215</code><code>removeListener(e,t){return this._emitter.removeListener(e,t),this}</code></p><p><code>216</code><code>off(e,t){return this.removeListener(e,t)}</code></p><p><code>217</code><code>removeAllListeners(e){return this._emitter.removeAllListeners(e),this}</code></p><p><code>218</code><code>setMaxListeners(e){return this._emitter.setMaxListeners(e),this}</code></p><p><code>219</code><code>then(e,t){return this.fulfilled.then(e,t)}</code></p><p><code>220</code><code>catch(e){return this.fulfilled.catch(e)}</code></p><p><code>221</code><code>trigger(e,t){return e===s.FULFILLED&amp;&amp;this.isFulfilled()?(t(this._value),!0):e===s.ERROR&amp;&amp;void 0!==this._error&amp;&amp;(t(this._error),!0)}</code></p><p><code>222</code><code>}</code></p><p><code>223</code><code>s.FULFILLED="fulfilled",s.RESET="reset",s.ERROR="error",t.Future=s,t.default=s}</code></p><p><code>224</code><code>,4925:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>225</code><code>);const o=n(1635),i=n(835),r=n(2991);t.default=class{constructor(e=window,t=r.DEFAULT_TTL){this._window=e,this._ttl=t}</code></p><p><code>226</code><code>getItem(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=(0,i.getCookie)(this._window,e);if(t)try{return JSON.parse(atob(t))}</code></p><p><code>227</code><code>catch(e){return}</code></p><p><code>228</code><code>}</code></p><p><code>229</code><code>))}</code></p><p><code>230</code><code>setItem(e,t){return o.__awaiter(this,void 0,void 0,(function*(){return!!(0,i.setCookie)(this._window,e,btoa(JSON.stringify(t)),this._ttl)&amp;&amp;this.getItem(e).then((e=&gt;!!e))}</code></p><p><code>231</code><code>))}</code></p><p><code>232</code><code>removeItem(e){return o.__awaiter(this,void 0,void 0,(function*(){return(0,i.setCookie)(this._window,e,"",-86400),this.getItem(e).then((e=&gt;!e))}</code></p><p><code>233</code><code>))}</code></p><p><code>234</code><code>}</code></p><p><code>235</code><code>}</code></p><p><code>236</code><code>,9791:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>237</code><code>),t.MetaCacher=t.WebStorageCacher=t.CookieCacher=t.getDefaultCacher=void 0;const o=n(1635),i=o.__importDefault(n(4925));t.CookieCacher=i.default;const r=o.__importDefault(n(2644));t.WebStorageCacher=r.default;const s=o.__importDefault(n(3842));t.MetaCacher=s.default;const a=n(2991);t.getDefaultCacher=function(e={}</code></p><p><code>238</code><code>){var t,n;const o=null!==(t=e.window)&amp;&amp;void 0!==t?t:window,c=null!==(n=e.ttl)&amp;&amp;void 0!==n?n:a.DEFAULT_TTL;return new s.default(new i.default(o,c),new r.default(o.localStorage,c),new r.default(o.sessionStorage,c))}</code></p><p><code>239</code><code>}</code></p><p><code>240</code><code>,3842:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>241</code><code>);const o=n(1635);t.default=class{constructor(...e){this._cachers=e}</code></p><p><code>242</code><code>getItem(e){return o.__awaiter(this,void 0,void 0,(function*(){for(const t of this._cachers){const n=yield t.getItem(e);if(n)return n}</code></p><p><code>243</code><code>}</code></p><p><code>244</code><code>))}</code></p><p><code>245</code><code>setItem(e,t){return o.__awaiter(this,void 0,void 0,(function*(){for(const n of this._cachers)if(yield n.setItem(e,t))return!0;return!1}</code></p><p><code>246</code><code>))}</code></p><p><code>247</code><code>removeItem(e){return o.__awaiter(this,void 0,void 0,(function*(){for(const t of this._cachers)if(yield t.removeItem(e))return!0;return!1}</code></p><p><code>248</code><code>))}</code></p><p><code>249</code><code>}</code></p><p><code>250</code><code>}</code></p><p><code>251</code><code>,2991:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>252</code><code>),t.DEFAULT_TTL=void 0,t.DEFAULT_TTL=604800}</code></p><p><code>253</code><code>,2644:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>254</code><code>);const o=n(1635),i=n(2991);t.default=class{constructor(e=window.localStorage,t=i.DEFAULT_TTL){this._storage=e,this._ttl=t}</code></p><p><code>255</code><code>getItem(e){return o.__awaiter(this,void 0,void 0,(function*(){try{const n=function(e,t){const n=e.getItem(`${t}</code></p><p><code>256</code><code>_metadata`);if(n)return JSON.parse(atob(n))}</code></p><p><code>257</code><code>(this._storage,e);if(!(n&amp;&amp;(t=n,t.iat&lt;=Math.floor(Date.now()/1e3))))return;if(function(e){return e.exp&lt;Math.floor(Date.now()/1e3)}</code></p><p><code>258</code><code>(n))return void(yield this.removeItem(e));const o=this._storage.getItem(e);return o?JSON.parse(atob(o)):void 0}</code></p><p><code>259</code><code>catch(e){return}</code></p><p><code>260</code><code>var t}</code></p><p><code>261</code><code>))}</code></p><p><code>262</code><code>setItem(e,t){return o.__awaiter(this,void 0,void 0,(function*(){try{!function(e,t,n){e.setItem(`${t}</code></p><p><code>263</code><code>_metadata`,btoa(JSON.stringify(n)))}</code></p><p><code>264</code><code>(this._storage,e,function(e){const t=Math.floor(Date.now()/1e3);return{iat:t,exp:t+e}</code></p><p><code>265</code><code>}</code></p><p><code>266</code><code>(this._ttl));const n=btoa(JSON.stringify(t));return this._storage.setItem(e,n),n===this._storage.getItem(e)}</code></p><p><code>267</code><code>catch(e){return!1}</code></p><p><code>268</code><code>}</code></p><p><code>269</code><code>))}</code></p><p><code>270</code><code>removeItem(e){return o.__awaiter(this,void 0,void 0,(function*(){try{return function(e,t){e.removeItem(t)}</code></p><p><code>271</code><code>(this._storage,e),this._storage.removeItem(e),!this._storage.getItem(e)}</code></p><p><code>272</code><code>catch(e){return!1}</code></p><p><code>273</code><code>}</code></p><p><code>274</code><code>))}</code></p><p><code>275</code><code>}</code></p><p><code>276</code><code>}</code></p><p><code>277</code><code>,835:(e,t)=&gt;{"use strict";function n(e,t){return e.document.cookie.split("; ").reduce(((e,n)=&gt;{const o=n.split("=");return o[0]===t?decodeURIComponent(o[1]):e}</code></p><p><code>278</code><code>),"")}</code></p><p><code>279</code><code>Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>280</code><code>),t.setCookie=t.getCookie=void 0,t.getCookie=n,t.setCookie=function(e,t,o,i){const r=e.document.location.hostname.split("."),s=[`${t}</code></p><p><code>281</code><code>=${encodeURIComponent(o)}</code></p><p><code>282</code><code>`,"path=/","SameSite=None","Secure"];if(i){const e=new Date(Date.now()+1e3*i).toUTCString();s.push(`expires=${e}</code></p><p><code>283</code><code>`)}</code></p><p><code>284</code><code>const a=s.join("; ");for(let i=2;i&lt;=r.length;i++)if(e.document.cookie=`${a}</code></p><p><code>285</code><code>; domain=${r.slice(-1*i).join(".")}</code></p><p><code>286</code><code>`,n(e,t)===o)return!0;return e.document.cookie=a,!!n(e,t)}</code></p><p><code>287</code><code>}</code></p><p><code>288</code><code>,7520:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>289</code><code>),t.host=t.Host=void 0;const o=n(1635),i=n(7007),r=n(6410),s=n(8251);class a{constructor(e){this._origin=new URL(e).origin,this._events=new i.EventEmitter,this._rpc=new Map,addEventListener(r.MessageEvent,(0,s.makeListener)(this._events,this._origin)),this.on(r.RpcCall,((e,t,...n)=&gt;o.__awaiter(this,void 0,void 0,(function*(){const o=this._rpc.get(e);this.emit(`rpcResult:${t}</code></p><p><code>290</code><code>`,o?yield o(...n):new Error(`unimplemented: ${e}</code></p><p><code>291</code><code>`))}</code></p><p><code>292</code><code>))))}</code></p><p><code>293</code><code>rpc(e,t){this._rpc.set(e,t)}</code></p><p><code>294</code><code>on(e,t){this._events.on(e,t)}</code></p><p><code>295</code><code>emit(e,...t){return(window.parent||window.opener).postMessage({eventName:e,args:t}</code></p><p><code>296</code><code>,this._origin),!0}</code></p><p><code>297</code><code>}</code></p><p><code>298</code><code>let c;t.Host=a,t.host=()=&gt;{if(!c){const e=document.querySelector('meta[name="trusted-origin"]'),t=null==e?void 0:e.content;if(!t)throw new Error('could not find &lt;meta name="trusted-origin" content="?" /&gt; element');c=new a(t)}</code></p><p><code>299</code><code>return c}</code></p><p><code>300</code><code>}</code></p><p><code>301</code><code>,5237:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>302</code><code>),t.proxy=t.Proxy=t.host=t.Host=void 0;const o=n(7520);Object.defineProperty(t,"host",{enumerable:!0,get:function(){return o.host}</code></p><p><code>303</code><code>}</code></p><p><code>304</code><code>),Object.defineProperty(t,"Host",{enumerable:!0,get:function(){return o.Host}</code></p><p><code>305</code><code>}</code></p><p><code>306</code><code>);const i=n(5798);Object.defineProperty(t,"proxy",{enumerable:!0,get:function(){return i.proxy}</code></p><p><code>307</code><code>}</code></p><p><code>308</code><code>),Object.defineProperty(t,"Proxy",{enumerable:!0,get:function(){return i.Proxy}</code></p><p><code>309</code><code>}</code></p><p><code>310</code><code>)}</code></p><p><code>311</code><code>,5798:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>312</code><code>),t.proxy=t.Proxy=void 0;const o=n(1635),i=n(7007),r=n(6410),s=n(8251);class a{constructor(){this._events=new i.EventEmitter}</code></p><p><code>313</code><code>open(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=new URL(e);return this._origin=t.origin,addEventListener(r.MessageEvent,(0,s.makeListener)(this._events,this._origin),{}</code></p><p><code>314</code><code>),new Promise((t=&gt;{const n=document.createElement(r.IframeElement);n.style.border=r.None,n.style.width=r.ZeroPixels,n.style.height=r.ZeroPixels,n.setAttribute(r.SandboxAttribute,r.SandboxRequirements),n.addEventListener(r.LoadEvent,(()=&gt;{this._hostWindow=n.contentWindow,t()}</code></p><p><code>315</code><code>),{}</code></p><p><code>316</code><code>),n.setAttribute(r.SrcAttribute,e),document.body.appendChild(n)}</code></p><p><code>317</code><code>))}</code></p><p><code>318</code><code>))}</code></p><p><code>319</code><code>on(e,t){this._events.on(e,t)}</code></p><p><code>320</code><code>emit(e,...t){if(!this._origin||!this._hostWindow)throw new Error("host has not been opened");return this._hostWindow.postMessage({eventName:e,args:t}</code></p><p><code>321</code><code>,this._origin),!0}</code></p><p><code>322</code><code>invoke(e,...t){return o.__awaiter(this,void 0,void 0,(function*(){return new Promise(((n,o)=&gt;{const i=Math.random().toString(16).slice(2);this._events.once(`rpcResult:${i}</code></p><p><code>323</code><code>`,(e=&gt;{e instanceof Error?o(e):n(e)}</code></p><p><code>324</code><code>)),this.emit(r.RpcCall,...[e,i].concat(...t))}</code></p><p><code>325</code><code>))}</code></p><p><code>326</code><code>))}</code></p><p><code>327</code><code>}</code></p><p><code>328</code><code>t.Proxy=a,t.proxy=new a}</code></p><p><code>329</code><code>,6410:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>330</code><code>),t.IframeElement=t.ZeroPixels=t.None=t.SandboxRequirements=t.SandboxAttribute=t.SrcAttribute=t.RpcCall=t.LoadEvent=t.MessageEvent=void 0,t.MessageEvent="message",t.LoadEvent="load",t.RpcCall="rpcCall",t.SrcAttribute="src",t.SandboxAttribute="sandbox",t.SandboxRequirements="allow-scripts allow-same-origin",t.None="none",t.ZeroPixels="0px",t.IframeElement="iframe"}</code></p><p><code>331</code><code>,8251:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>332</code><code>),t.makeListener=void 0,t.makeListener=function(e,t){return n=&gt;{if(n.origin!==t)return void console.warn(`dropping untrusted message from ${n.origin}</code></p><p><code>333</code><code>`);const o=n.data;o.eventName&amp;&amp;o.args?e.emit(o.eventName,...o.args):console.warn(`dropping bad message from ${n.origin}</code></p><p><code>334</code><code>`)}</code></p><p><code>335</code><code>}</code></p><p><code>336</code><code>}</code></p><p><code>337</code><code>,5250:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>338</code><code>);const o=n(1635),i=n(5305),r=n(4999),s=o.__importDefault(n(6092)),a=o.__importDefault(n(192)),c=o.__importDefault(n(5834)),u=o.__importDefault(n(300)),d=o.__importDefault(n(7931)),l=o.__importDefault(n(3449)),f=n(5926),p=n(4835),h=n(7296);t.default=class{constructor(e){this._config=e,this._api=new r.KetchWebAPI((0,u.default)(this._config))}</code></p><p><code>339</code><code>build(){var e,t,n,r;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,i.wrapLogger)(d.default,"build");if(o.info(this._config),!this._config||!this._config.organization)throw c.default.invalidConfigurationError;const a=l.default.get(s.default.EXPERIENCE_VERSION);if(a){let e="";if(this._config.scripts)for(let t=0;t&lt;this._config.scripts.length;t+=1)this._config.scripts[t].includes("lanyard")&amp;&amp;(e=this._config.scripts[t]);let t=!1;if(e.includes("/v1/")&amp;&amp;"new"===a?(e=e.replace("/v1/","/v2/"),t=!0):e.includes("/v2/")&amp;&amp;"old"===a&amp;&amp;(e=e.replace("/v2/","/v1/"),t=!0),t){const t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.async=!0,n.src=e,t.appendChild(n)}</code></p><p><code>340</code><code>}</code></p><p><code>341</code><code>const p=this.formatLanguage(new URLSearchParams(window.location.search).get(s.default.LANGUAGE)||l.default.get(s.default.LANGUAGE)||document.documentElement.lang||document.documentElement.getAttribute("xml:lang")||window.navigator.language||this._config.language||"en");if((null===(e=this._config.property)||void 0===e?void 0:e.code)&amp;&amp;(null===(t=this._config.environment)||void 0===t?void 0:t.code)&amp;&amp;(null===(n=this._config.jurisdiction)||void 0===n?void 0:n.code)&amp;&amp;this._config.language===p){o.debug("full configuration");const e=new f.Ketch(this._api,this._config);return yield e.setEnvironment(this._config.environment),yield e.setJurisdiction(this._config.jurisdiction.code),e}</code></p><p><code>342</code><code>const _=yield this.buildEnvironment();let g,v=l.default.get(s.default.REGION);v||(g=yield this.buildGeoIP(),v=yield this.buildRegionInfo(g));const E=yield this.buildJurisdiction(v),y={organizationCode:(0,h.santizePaths)(this._config.organization.code),propertyCode:(0,h.santizePaths)((null===(r=this._config.property)||void 0===r?void 0:r.code)||""),environmentCode:(0,h.santizePaths)(_.code),hash:(0,h.santizePaths)(_.hash||""),languageCode:(0,h.santizePaths)(p),jurisdictionCode:(0,h.santizePaths)(E)}</code></p><p><code>343</code><code>;o.info("loadConfig",y);const b=yield this._api.getFullConfiguration(y);a&amp;&amp;b.services&amp;&amp;(b.services[s.default.API_SERVER]=(0,u.default)(this._config));const m=new f.Ketch(this._api,b);return yield m.setEnvironment(_),g&amp;&amp;(yield m.setGeoIP(g)),yield m.setRegionInfo(v),yield m.setJurisdiction(E),yield this.setupTelemetry(m,b,{region:v}</code></p><p><code>344</code><code>),m}</code></p><p><code>345</code><code>))}</code></p><p><code>346</code><code>setupTelemetry(e,t,n){var i,r,a,c,u,l,f,h;return o.__awaiter(this,void 0,void 0,(function*(){if(!t.services||!t.services.telemetry||""===t.services.telemetry)return!1;const o=parseFloat((null===(i=t.options)||void 0===i?void 0:i.beaconPercentage)||"1");let _=Math.random()&lt;o;if(!_)return!1;const g={organizationCode:null!==(r=t.organization.code)&amp;&amp;void 0!==r?r:"",propertyCode:null!==(c=null===(a=t.property)||void 0===a?void 0:a.code)&amp;&amp;void 0!==c?c:"",environmentCode:null!==(l=null===(u=t.environment)||void 0===u?void 0:u.code)&amp;&amp;void 0!==l?l:"",jurisdictionCode:null!==(h=null===(f=t.jurisdiction)||void 0===f?void 0:f.code)&amp;&amp;void 0!==h?h:"",purposes:{}</code></p><p><code>347</code><code>,identities:{}</code></p><p><code>348</code><code>}</code></p><p><code>349</code><code>,v=yield(0,p.getCachedConsent)(g,this._config),E=!!(v.collectedAt&amp;&amp;v.collectedAt&gt;0);return e.once(s.default.IDENTITIES_EVENT,(e=&gt;{var o;const i=this.collectTelemetry(E,t,n,e,"once_identities");try{navigator.sendBeacon(`${null===(o=t.services)||void 0===o?void 0:o.telemetry}</code></p><p><code>350</code><code>?${i.toString()}</code></p><p><code>351</code><code>`)}</code></p><p><code>352</code><code>catch(e){d.default.debug("telemetry error",e)}</code></p><p><code>353</code><code>}</code></p><p><code>354</code><code>)),document.addEventListener("visibilitychange",(()=&gt;{var o;if("hidden"===document.visibilityState&amp;&amp;_){_=!1;const i=e.getCurrentIdentities(),r=this.collectTelemetry(E,t,n,i,"visibility_hidden");try{navigator.sendBeacon(`${null===(o=t.services)||void 0===o?void 0:o.telemetry}</code></p><p><code>355</code><code>?${r.toString()}</code></p><p><code>356</code><code>`)}</code></p><p><code>357</code><code>catch(e){d.default.debug("telemetry error",e)}</code></p><p><code>358</code><code>}</code></p><p><code>359</code><code>}</code></p><p><code>360</code><code>)),!0}</code></p><p><code>361</code><code>))}</code></p><p><code>362</code><code>collectTelemetry(e,t,n,o,i){var r,s,a,c;const u=new URLSearchParams,d=`${window.location.protocol}</code></p><p><code>363</code><code>//${window.location.host}</code></p><p><code>364</code><code>${window.location.pathname}</code></p><p><code>365</code><code>`;u.append("hasConsent",`${e}</code></p><p><code>366</code><code>`),u.append("url",d),u.append("property",(null===(r=t.property)||void 0===r?void 0:r.code)||""),u.append("environment",(null===(s=t.environment)||void 0===s?void 0:s.code)||""),u.append("jurisdiction",(null===(a=t.jurisdiction)||void 0===a?void 0:a.code)||""),u.append("tenant",t.organization.code),u.append("dver",`${null===(c=t.deployment)||void 0===c?void 0:c.version}</code></p><p><code>367</code><code>`),u.append("event_type",i),u.append("ids",window.btoa(JSON.stringify(o)));for(const[e,t]of Object.entries(n))u.append(e,t);return u}</code></p><p><code>368</code><code>buildEnvironment(){return o.__awaiter(this,void 0,void 0,(function*(){const e=(0,i.wrapLogger)(d.default,"buildEnvironment");if(this._config.environment)return e.trace(this._config.environment),this._config.environment;if(!this._config.environments||0===this._config.environments.length)throw e.trace("no environments"),c.default.noEnvironmentError;const t=l.default.get(s.default.ENV);if(t){for(let n=0;n&lt;this._config.environments.length;n+=1){const o=this._config.environments[n];if(o&amp;&amp;t&amp;&amp;o.code===t)return e.debug("found",o),o}</code></p><p><code>369</code><code>throw e.trace("unknown environment"),c.default.noEnvironmentError}</code></p><p><code>370</code><code>let n={}</code></p><p><code>371</code><code>;for(let e=0;e&lt;this._config.environments.length;e+=1){const t=this._config.environments[e],o=atob(t.pattern||"");o&amp;&amp;new RegExp(o).test(window.document.location.href)&amp;&amp;(!n.pattern||o.length&gt;atob(n.pattern).length)&amp;&amp;(n=t)}</code></p><p><code>372</code><code>if(n.pattern)return e.debug("matched",n),n;for(let t=0;t&lt;this._config.environments.length;t+=1){const n=this._config.environments[t];if(n.code===s.default.PRODUCTION)return e.debug(n.code,n),n}</code></p><p><code>373</code><code>throw c.default.noEnvironmentError}</code></p><p><code>374</code><code>))}</code></p><p><code>375</code><code>formatLanguage(e){var t;const n=e.split("-")[0],o=null===(t=e.split("-")[1])||void 0===t?void 0:t.toUpperCase();return`${n}</code></p><p><code>376</code><code>${o?`-${o}</code></p><p><code>377</code><code>`:""}</code></p><p><code>378</code><code>`}</code></p><p><code>379</code><code>buildJurisdiction(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=(0,i.wrapLogger)(d.default,"buildJurisdiction");t.debug(this._config.jurisdiction);const n=l.default.get(s.default.JURISDICTION);if(n)return t.trace("override",n),n;const o=this._config.jurisdiction;if(!o)throw t.trace("no jurisdiction config"),c.default.noJurisdictionError;if(o.code)return t.trace(o.code),o.code;const r=document.documentElement.getAttribute("jurisdiction");if(r)return t.trace("document jurisdiction",r),r;const u=o.variable;if(u)for(const e of(0,a.default)()){const n=e[u];if(n)return t.trace("dataLayer jurisdiction",n),n}</code></p><p><code>380</code><code>if(o.jurisdictions){const n=o.jurisdictions[e];if(n)return t.trace("region jurisdiction",n),n}</code></p><p><code>381</code><code>if(o.defaultJurisdictionCode)return t.trace("default jurisdiction",o.defaultJurisdictionCode),o.defaultJurisdictionCode;throw c.default.noJurisdictionError}</code></p><p><code>382</code><code>))}</code></p><p><code>383</code><code>buildRegionInfo(e){var t;return o.__awaiter(this,void 0,void 0,(function*(){const n=(0,i.wrapLogger)(d.default,"buildRegionInfo");if(("US"===e.countryCode||"CA"===e.countryCode)&amp;&amp;e.regionCode){const t=`${e.countryCode}</code></p><p><code>384</code><code>-${e.regionCode}</code></p><p><code>385</code><code>`;return n.trace(t),t}</code></p><p><code>386</code><code>const o=null!==(t=e.countryCode)&amp;&amp;void 0!==t?t:"US";return n.trace(o),o}</code></p><p><code>387</code><code>))}</code></p><p><code>388</code><code>buildGeoIP(){return o.__awaiter(this,void 0,void 0,(function*(){d.default.debug("buildGeoIP");const e=yield this._api.getLocation();if(!e||!e.location)throw c.default.unrecognizedLocationError;return e.location}</code></p><p><code>389</code><code>))}</code></p><p><code>390</code><code>}</code></p><p><code>391</code><code>}</code></p><p><code>392</code><code>,436:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>393</code><code>),t.addToKetchLog=void 0,t.addToKetchLog=(e,t)=&gt;{window.KetchLog||(window.KetchLog={}</code></p><p><code>394</code><code>),window.KetchLog[e]||(window.KetchLog[e]=t)}</code></p><p><code>395</code><code>}</code></p><p><code>396</code><code>,2433:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>397</code><code>);const o=n(1635),i=o.__importDefault(n(7931)),r=n(5305),s=n(436),a=o.__importDefault(n(6092));t.default=class{constructor(e,t){this._blockedCookies=new Set,this.getGrantedPurposes=()=&gt;o.__awaiter(this,void 0,void 0,(function*(){const e=(0,r.wrapLogger)(i.default,"CookieBlocker: getGrantedPurposes"),t=yield this._ketch.getConsent(),n=(null==t?void 0:t.purposes)||{}</code></p><p><code>398</code><code>;return e.debug("got consent purposes",n),new Set(Object.keys(n).filter((e=&gt;!0===n[e])))}</code></p><p><code>399</code><code>)),this.execute=()=&gt;o.__awaiter(this,void 0,void 0,(function*(){const e=(0,r.wrapLogger)(i.default,"CookieBlocker: execute"),t=document.cookie.split(";");if(!t.length)return e.debug("no browser cookies"),Array.from(this._blockedCookies);const n=window.location.hostname,o=yield this.getGrantedPurposes();return e.debug("granted purposes",o),Object.entries(this._config.blockedCookies||{}</code></p><p><code>400</code><code>).forEach((([i,{purposeCodes:r,regex:s}</code></p><p><code>401</code><code>])=&gt;{if(r.some((e=&gt;o.has(e))))return void e.debug(`not blocking ${i}</code></p><p><code>402</code><code> as consent is granted for one of its purposes`);const a=new RegExp(s||"");t.forEach((t=&gt;{const[o,r]=t.trim().split("=");!this._blockedCookies.has(o)&amp;&amp;(s&amp;&amp;a.test(o)||!s&amp;&amp;o===i)&amp;&amp;(document.cookie=`${o}</code></p><p><code>403</code><code>=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${n}</code></p><p><code>404</code><code>;`,this._blockedCookies.add(o),e.debug(`Deleted cookie: ${o}</code></p><p><code>405</code><code> for domain: .${n}</code></p><p><code>406</code><code>`))}</code></p><p><code>407</code><code>))}</code></p><p><code>408</code><code>)),(0,s.addToKetchLog)("getBlockedCookies",(()=&gt;{console.group(`Blocked Cookies (${this._blockedCookies.size}</code></p><p><code>409</code><code>) `),this._blockedCookies.size||console.log("No blocked cookies"),this._blockedCookies.forEach((e=&gt;console.log(e))),console.groupEnd()}</code></p><p><code>410</code><code>)),Array.from(this._blockedCookies)}</code></p><p><code>411</code><code>)),this._ketch=e,this._config=t,this._ketch.on(a.default.CONSENT_EVENT,(()=&gt;this.execute())),window.addEventListener("DOMContentLoaded",(()=&gt;this.execute()))}</code></p><p><code>412</code><code>}</code></p><p><code>413</code><code>}</code></p><p><code>414</code><code>,8297:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>415</code><code>);const o=n(1635).__importDefault(n(3004));class i extends o.default{constructor(e){super(e)}</code></p><p><code>416</code><code>experienceClosed(e,t){return this._ketch.experienceClosed(e,t).then((()=&gt;{}</code></p><p><code>417</code><code>))}</code></p><p><code>418</code><code>invokeRight(e){return this._ketch.invokeRight(e)}</code></p><p><code>419</code><code>setProvisionalConsent(e){return this._ketch.setProvisionalConsent(e)}</code></p><p><code>420</code><code>getSubscriptions(){return this._ketch.getSubscriptions()}</code></p><p><code>421</code><code>setSubscriptions(e){return this._ketch.setSubscriptions(e)}</code></p><p><code>422</code><code>getSubscriptionConfiguration(){return this._ketch.getSubscriptionConfiguration()}</code></p><p><code>423</code><code>getConsentConfiguration(){return this._ketch.getConsentConfiguration()}</code></p><p><code>424</code><code>getPreferenceConfiguration(){return this._ketch.getPreferenceConfiguration()}</code></p><p><code>425</code><code>getIsExperienceDisplayed(){return this._ketch.getIsExperienceDisplayed()}</code></p><p><code>426</code><code>willChangeExperience(e){return this._ketch.willChangeExperience(e).then((()=&gt;{}</code></p><p><code>427</code><code>))}</code></p><p><code>428</code><code>hasChangedExperience(e){return this._ketch.hasChangedExperience(e).then((()=&gt;{}</code></p><p><code>429</code><code>))}</code></p><p><code>430</code><code>hasShownExperience(){return this._ketch.hasShownExperience().then((()=&gt;{}</code></p><p><code>431</code><code>))}</code></p><p><code>432</code><code>}</code></p><p><code>433</code><code>t.default=i}</code></p><p><code>434</code><code>,5926:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>435</code><code>),t.Ketch=void 0;const o=n(1635),i=n(7007),r=o.__importDefault(n(8138)),s=n(8509),a=o.__importDefault(n(9220)),c=o.__importDefault(n(9207)),u=n(5305),d=n(5237),l=o.__importDefault(n(7262)),f=o.__importDefault(n(3044)),p=o.__importDefault(n(7931)),h=o.__importDefault(n(5834)),_=o.__importDefault(n(3449)),g=n(4835),v=o.__importStar(n(6092)),E=o.__importDefault(n(8297));class y extends i.EventEmitter{constructor(e,t){var n,o,i,s,c,u;super();const d=parseInt(null!==(o=null===(n=t.options)||void 0===n?void 0:n.maxListeners)&amp;&amp;void 0!==o?o:"20");this._api=e,this._config=t,this._consent=new r.default({name:v.default.CONSENT_EVENT,emitter:this,maxListeners:d}</code></p><p><code>436</code><code>),this._protocols=new r.default({name:v.default.PROTOCOLS_EVENT,emitter:this,maxListeners:d}</code></p><p><code>437</code><code>),this._environment=new r.default({name:v.default.ENVIRONMENT_EVENT,emitter:this,maxListeners:d}</code></p><p><code>438</code><code>),this._geoip=new r.default({name:v.default.GEOIP_EVENT,emitter:this,maxListeners:d}</code></p><p><code>439</code><code>),this._handleKeyboardEvent=new r.default({name:v.default.HANDLE_KEYBOARD_EVENT,emitter:this,maxListeners:d}</code></p><p><code>440</code><code>),this._identities=new r.default({name:v.default.IDENTITIES_EVENT,emitter:this,maxListeners:d}</code></p><p><code>441</code><code>),this._identitiesCurrent={}</code></p><p><code>442</code><code>,this._jurisdiction=new r.default({name:v.default.JURISDICTION_EVENT,emitter:this,maxListeners:d}</code></p><p><code>443</code><code>),this._regionInfo=new r.default({name:v.default.REGION_INFO_EVENT,emitter:this,maxListeners:d}</code></p><p><code>444</code><code>),this._returnKeyboardControl=new r.default({name:v.default.RETURN_KEYBOARD_CONTROL,emitter:this,maxListeners:d}</code></p><p><code>445</code><code>),this._subscriptionConfig=new r.default({name:v.default.SUBSCRIPTIONS_EVENT,emitter:this,maxListeners:d}</code></p><p><code>446</code><code>),this._subscriptions=new r.default({name:v.default.SUBSCRIPTION_CONFIG_EVENT,emitter:this,maxListeners:d}</code></p><p><code>447</code><code>),this._consentConfig=new r.default,this._preferenceConfig=new r.default,this._isExperienceDisplayed=!1,this._hasExperienceBeenDisplayed=!1,this._hasProxyLoaded=!1,this._provisionalConsent=void 0,this._watcher=new a.default(window,{interval:parseInt(null!==(s=null===(i=t.options)||void 0===i?void 0:i.watcherInterval)&amp;&amp;void 0!==s?s:"2000"),timeout:parseInt(null!==(u=null===(c=t.options)||void 0===c?void 0:c.watcherTimeout)&amp;&amp;void 0!==u?u:"10000")}</code></p><p><code>448</code><code>),this._watcher.on(v.default.IDENTITY_EVENT,this.setIdentities.bind(this)),this.setMaxListeners(d)}</code></p><p><code>449</code><code>registerPlugin(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const n=new E.default(this),o=t||(yield this.getConfig());return e instanceof Function?e(n,o):(void 0!==e.willShowExperience&amp;&amp;this.on(v.default.WILL_SHOW_EXPERIENCE_EVENT,(t=&gt;{void 0!==e.willShowExperience&amp;&amp;e.willShowExperience(n,this._config,t)}</code></p><p><code>450</code><code>)),void 0!==e.showConsentExperience&amp;&amp;this.on(v.default.SHOW_CONSENT_EXPERIENCE_EVENT,((t,o)=&gt;{void 0!==e.showConsentExperience&amp;&amp;e.showConsentExperience(n,this._config,t,o)}</code></p><p><code>451</code><code>)),void 0!==e.showPreferenceExperience&amp;&amp;this.on(v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,((t,o)=&gt;{void 0!==e.showPreferenceExperience&amp;&amp;e.showPreferenceExperience(n,this._config,t,o)}</code></p><p><code>452</code><code>)),void 0!==e.consentChanged&amp;&amp;this.on(v.default.CONSENT_EVENT,(t=&gt;{void 0!==e.consentChanged&amp;&amp;e.consentChanged(n,this._config,t)}</code></p><p><code>453</code><code>)),void 0!==e.environmentLoaded&amp;&amp;this.on(v.default.ENVIRONMENT_EVENT,(t=&gt;{void 0!==e.environmentLoaded&amp;&amp;e.environmentLoaded(n,this._config,t)}</code></p><p><code>454</code><code>)),void 0!==e.experienceHidden&amp;&amp;this.on(v.default.HIDE_EXPERIENCE_EVENT,(t=&gt;{void 0!==e.experienceHidden&amp;&amp;e.experienceHidden(n,this._config,t)}</code></p><p><code>455</code><code>)),void 0!==e.geoIPLoaded&amp;&amp;this.on(v.default.GEOIP_EVENT,(t=&gt;{void 0!==e.geoIPLoaded&amp;&amp;e.geoIPLoaded(n,this._config,t)}</code></p><p><code>456</code><code>)),void 0!==e.identitiesLoaded&amp;&amp;this.on(v.default.IDENTITIES_EVENT,(t=&gt;{void 0!==e.identitiesLoaded&amp;&amp;e.identitiesLoaded(n,this._config,t)}</code></p><p><code>457</code><code>)),void 0!==e.jurisdictionLoaded&amp;&amp;this.on(v.default.JURISDICTION_EVENT,(t=&gt;{void 0!==e.jurisdictionLoaded&amp;&amp;e.jurisdictionLoaded(n,this._config,t)}</code></p><p><code>458</code><code>)),void 0!==e.regionInfoLoaded&amp;&amp;this.on(v.default.REGION_INFO_EVENT,(t=&gt;{void 0!==e.regionInfoLoaded&amp;&amp;e.regionInfoLoaded(n,this._config,t)}</code></p><p><code>459</code><code>)),void 0!==e.rightInvoked&amp;&amp;this.on(v.default.RIGHT_INVOKED_EVENT,(t=&gt;{void 0!==e.rightInvoked&amp;&amp;e.rightInvoked(n,this._config,t)}</code></p><p><code>460</code><code>)),void 0!==e.init?e.init(n,o):Promise.resolve())}</code></p><p><code>461</code><code>))}</code></p><p><code>462</code><code>registerIdentityProvider(e,t){return o.__awaiter(this,void 0,void 0,(function*(){this._watcher.add(e,t)}</code></p><p><code>463</code><code>))}</code></p><p><code>464</code><code>registerStorageProvider(e,t){return o.__awaiter(this,void 0,void 0,(function*(){}</code></p><p><code>465</code><code>))}</code></p><p><code>466</code><code>registerExperienceServer(e){return o.__awaiter(this,void 0,void 0,(function*(){}</code></p><p><code>467</code><code>))}</code></p><p><code>468</code><code>getConfig(){return o.__awaiter(this,void 0,void 0,(function*(){return this._config}</code></p><p><code>469</code><code>))}</code></p><p><code>470</code><code>getFullConfig(){return o.__awaiter(this,void 0,void 0,(function*(){return this._config}</code></p><p><code>471</code><code>))}</code></p><p><code>472</code><code>selectExperience(e){const t=(0,u.wrapLogger)(p.default,"selectExperience");if(this._hasExperienceBeenDisplayed)t.debug(v.default.NONE);else{if(_.default.get(v.default.SHOW)===v.default.PREFERENCES)return t.debug(s.ExperienceType.Preference),s.ExperienceType.Preference;if(_.default.has(v.default.SHOW))return t.debug(s.ExperienceType.Consent),s.ExperienceType.Consent;if(this._config.purposes)for(const n of this._config.purposes)if(void 0===e.purposes[n.code])return t.debug(s.ExperienceType.Consent),s.ExperienceType.Consent;t.debug(v.default.NONE)}</code></p><p><code>473</code><code>}</code></p><p><code>474</code><code>selectConsentExperience(){var e,t,n;const o=(0,u.wrapLogger)(p.default,"selectConsentExperience");if(this._config.purposes&amp;&amp;this._config.purposes.length&amp;&amp;(null===(e=this._config.experiences)||void 0===e?void 0:e.consent)&amp;&amp;(null===(n=null===(t=this._config.experiences)||void 0===t?void 0:t.consent)||void 0===n?void 0:n.experienceDefault)===s.ExperienceDefault.MODAL)for(const e of this._config.purposes)if(e.requiresOptIn)return o.debug(s.ConsentExperienceType.Modal),s.ConsentExperienceType.Modal;return o.debug(s.ConsentExperienceType.Banner),s.ConsentExperienceType.Banner}</code></p><p><code>475</code><code>willShowExperience(e){var t,n;p.default.debug("willShowExperience",e),this.emit(v.default.WILL_SHOW_EXPERIENCE_EVENT,e);const o=null===(n=null===(t=this._config.experiences)||void 0===t?void 0:t.autoInitiated)||void 0===n?void 0:n.layout;o&amp;&amp;(e!==s.ExperienceType.Consent||o.banner||o.modal)&amp;&amp;(e!==s.ExperienceType.Preference||o.preference)&amp;&amp;(this._isExperienceDisplayed=!0)}</code></p><p><code>476</code><code>experienceClosed(e,t){return o.__awaiter(this,void 0,void 0,(function*(){if(p.default.debug("experienceClosed",e),this._isExperienceDisplayed=!1,this._hasExperienceBeenDisplayed=!0,e!==s.ExperienceClosedReason.CLOSE_WITHOUT_SETTING_CONSENT)if(t&amp;&amp;e===s.ExperienceClosedReason.SET_CONSENT)yield this.setConsent(t,s.SetConsentReason.USER_UPDATE);else if(e!==s.ExperienceClosedReason.SET_CONSENT){const e=yield this.retrieveConsent();if(this._config.purposes)for(const t of this._config.purposes)void 0===e.purposes[t.code]&amp;&amp;t.requiresOptIn&amp;&amp;(e.purposes[t.code]=!1);yield this.setConsent(e,s.SetConsentReason.USER_EXPERIENCE_DISMISSAL)}</code></p><p><code>477</code><code>return setTimeout((()=&gt;{this.emit(v.default.HIDE_EXPERIENCE_EVENT,e)}</code></p><p><code>478</code><code>),0),this.retrieveConsent()}</code></p><p><code>479</code><code>))}</code></p><p><code>480</code><code>willChangeExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("willChangeExperience",e),this.emit(v.default.WILL_CHANGE_EXPERIENCE_EVENT,e)}</code></p><p><code>481</code><code>))}</code></p><p><code>482</code><code>hasChangedExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("hasChangedExperience",e),this.emit(v.default.HAS_CHANGED_EXPERIENCE_EVENT,e)}</code></p><p><code>483</code><code>))}</code></p><p><code>484</code><code>hasShownExperience(){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("hasShownExperience"),this.emit(v.default.HAS_SHOWN_EXPERIENCE_EVENT)}</code></p><p><code>485</code><code>))}</code></p><p><code>486</code><code>showConsentExperience(e){var t,n;return o.__awaiter(this,void 0,void 0,(function*(){if((null===(t=this._config.deployment)||void 0===t?void 0:t.isOrchestrationOnly)||(null===(n=this._config)||void 0===n?void 0:n.isConfigPaused))return{}</code></p><p><code>487</code><code>;(0,u.wrapLogger)(p.default,"showConsentExperience").debug(e);const o=yield this.retrieveConsent();return this.listenerCount(v.default.SHOW_CONSENT_EXPERIENCE_EVENT)&gt;0?this.showConsentExperienceTrigger(o,e):this.on("addedListener",(t=&gt;{t===v.default.SHOW_CONSENT_EXPERIENCE_EVENT&amp;&amp;this.showConsentExperienceTrigger(o,e)}</code></p><p><code>488</code><code>)),o}</code></p><p><code>489</code><code>))}</code></p><p><code>490</code><code>showConsentExperienceTrigger(e,t){p.default.debug("showConsentExperienceTrigger");const n=Object.assign({displayHint:this.selectConsentExperience()}</code></p><p><code>491</code><code>,t);this.willShowExperience(s.ExperienceType.Consent),this.emit(v.default.SHOW_CONSENT_EXPERIENCE_EVENT,e,n)}</code></p><p><code>492</code><code>updatePreferenceParams(e){var t,n;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"getPreferenceParams");let i;e=null!=e?e:{}</code></p><p><code>493</code><code>;let r=!0;try{i=yield this.getConsent()}</code></p><p><code>494</code><code>catch(e){if(e!==h.default.noPurposesError)throw e;o.debug("No purposes detected, experience will not display consents tab"),i=v.EMPTY_CONSENT,r=!1}</code></p><p><code>495</code><code>const a=_.default.get(v.default.PREFERENCES_TAB);a&amp;&amp;(0,s.isTab)(a)&amp;&amp;(e.tab=a,o.info("tab",a));const c=null===(n=null===(t=_.default.get(v.default.PREFERENCES_TABS))||void 0===t?void 0:t.split(","))||void 0===n?void 0:n.filter((e=&gt;e&amp;&amp;(0,s.isTab)(e)));(null==c?void 0:c.length)&amp;&amp;(e.showOverviewTab=c.includes(s.Tab.Overview),e.showConsentsTab=r&amp;&amp;c.includes(s.Tab.Consents),e.showSubscriptionsTab=c.includes(s.Tab.Subscriptions),e.showRightsTab=c.includes(s.Tab.Rights),e.tab=c.includes(e.tab||"")?e.tab:c[0]);try{const t=yield this.getSubscriptionConfiguration();if(void 0!==t){if(void 0===e.showSubscriptionsTab&amp;&amp;(e.showSubscriptionsTab=!0),void 0!==t.topics&amp;&amp;0!==t.topics.length&amp;&amp;0!==Object.keys(t.identities).length||(e.showSubscriptionsTab=!1,o.trace("not showing subscriptions because invalid subscription config")),e.showSubscriptionsTab){let n=!1;const i=yield this.getIdentities();for(const e of Object.keys(t.identities))if(i[e]){n=!0;break}</code></p><p><code>496</code><code>n||(o.trace("not showing subscriptions because no auth identities"),e.showSubscriptionsTab=!1)}</code></p><p><code>497</code><code>}</code></p><p><code>498</code><code>else o.trace("invalid subscription config"),e.showSubscriptionsTab=!1}</code></p><p><code>499</code><code>catch(t){o.trace("invalid subscription config"),e.showSubscriptionsTab=!1}</code></p><p><code>500</code><code>return e.showSubscriptionsTab||e.tab!==s.Tab.Subscriptions||(e.tab=void 0),[i,e]}</code></p><p><code>501</code><code>))}</code></p><p><code>502</code><code>showPreferenceExperience(e){var t,n;return o.__awaiter(this,void 0,void 0,(function*(){if((null===(t=this._config.deployment)||void 0===t?void 0:t.isOrchestrationOnly)||(null===(n=this._config)||void 0===n?void 0:n.isConfigPaused))return{}</code></p><p><code>503</code><code>;(0,u.wrapLogger)(p.default,"showPreferenceExperience").debug(e);const[o,i]=yield this.updatePreferenceParams(e);return this.listenerCount(v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT)&gt;0?this.showPreferenceExperienceTrigger(i,o):this.on("addedListener",(e=&gt;{e===v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT&amp;&amp;this.showPreferenceExperienceTrigger(i,o)}</code></p><p><code>504</code><code>)),o}</code></p><p><code>505</code><code>))}</code></p><p><code>506</code><code>showPreferenceExperienceTrigger(e,t){(0,u.wrapLogger)(p.default,"showPreferenceExperienceTrigger").debug(e),this.willShowExperience(s.ExperienceType.Preference),this.emit(v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,t,e)}</code></p><p><code>507</code><code>showProgressiveExperience(e){return p.default.debug("showProgressiveExperience",e),this.emit(v.default.SHOW_PROGRESSIVE_EXPERIENCE_EVENT,e),Promise.resolve()}</code></p><p><code>508</code><code>showExperience(e){var t,n,i,r;return o.__awaiter(this,void 0,void 0,(function*(){if((null===(t=this._config.deployment)||void 0===t?void 0:t.isOrchestrationOnly)||(null===(n=this._config)||void 0===n?void 0:n.isConfigPaused))return;(0,u.wrapLogger)(p.default,"showConsentExperience").debug(e);const o=null===(i=(yield this.getFullConfig()).experiences)||void 0===i?void 0:i.userInitiated;if((null==e?void 0:e.useAutoInitiated)||"preference"!==(null===(r=null==o?void 0:o.content)||void 0===r?void 0:r.display)){const t=yield this.retrieveConsent();this.showExperienceTrigger(t,s.ExperienceType.Consent,e)}</code></p><p><code>509</code><code>else{const[t,n]=yield this.updatePreferenceParams(null==e?void 0:e.preferenceOptions);this.showExperienceTrigger(t,s.ExperienceType.Preference,Object.assign(Object.assign({}</code></p><p><code>510</code><code>,e),{preferenceOptions:n}</code></p><p><code>511</code><code>))}</code></p><p><code>512</code><code>return Promise.resolve()}</code></p><p><code>513</code><code>))}</code></p><p><code>514</code><code>showExperienceTrigger(e,t,n){p.default.debug("showExperienceTrigger"),this.listenerCount(v.default.SHOW_EXPERIENCE_EVENT)&gt;0?(this.willShowExperience(t),this.emit(v.default.SHOW_EXPERIENCE_EVENT,e,n)):this.on("addedListener",(o=&gt;{o===v.default.SHOW_EXPERIENCE_EVENT&amp;&amp;(this.willShowExperience(t),this.emit(v.default.SHOW_EXPERIENCE_EVENT,e,n))}</code></p><p><code>515</code><code>))}</code></p><p><code>516</code><code>onShowConsentExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("onShowConsentExperience"),this.removeAllListeners(v.default.SHOW_CONSENT_EXPERIENCE_EVENT),this.on(v.default.SHOW_CONSENT_EXPERIENCE_EVENT,e)}</code></p><p><code>517</code><code>))}</code></p><p><code>518</code><code>onShowPreferenceExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("onShowPreferenceExperience"),this.removeAllListeners(v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT),this.on(v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,e)}</code></p><p><code>519</code><code>))}</code></p><p><code>520</code><code>hasConsent(){return this._consent.isFulfilled()}</code></p><p><code>521</code><code>setConsent(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const n=(0,u.wrapLogger)(p.default,"setConsent");if(n.debug(e),!e||(0,f.default)(e))return n.trace("reset"),this._consent.reset(),{}</code></p><p><code>522</code><code>;let o=!1;if(this.hasConsent()){n.trace("has consent");const t=this._consent.value;o=(0,c.default)(t.purposes,e.purposes);for(const n in t.purposes)Object.prototype.hasOwnProperty.call(t.purposes,n)&amp;&amp;!Object.prototype.hasOwnProperty.call(e.purposes,n)&amp;&amp;(e.purposes[n]=t.purposes[n]);e.protocols=t.protocols}</code></p><p><code>523</code><code>this._consent.value=e;const i=yield this.getIdentities();try{const n=yield this.updateConsent(i,e);n&amp;&amp;void 0!==n.protocols&amp;&amp;(this._protocols.value=n.protocols),t===s.SetConsentReason.USER_UPDATE&amp;&amp;(this._watcher.stop(),yield this._watcher.start(),o||this.emit(v.default.USER_CONSENT_UPDATED_EVENT,e))}</code></p><p><code>524</code><code>catch(e){let t="";e instanceof Error&amp;&amp;(t=e.message),n.warn("unable to update consent",t)}</code></p><p><code>525</code><code>return e}</code></p><p><code>526</code><code>))}</code></p><p><code>527</code><code>setProvisionalConsent(e){return o.__awaiter(this,void 0,void 0,(function*(){p.default.debug("setProvisionalConsent",e),this._provisionalConsent=e}</code></p><p><code>528</code><code>))}</code></p><p><code>529</code><code>overrideWithProvisionalConsent(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=(0,u.wrapLogger)(p.default,"overrideWithProvisionalConsent");t.debug(e);let n=!1;if(!this._provisionalConsent)return t.trace("no provisional consent"),[e,n];for(const t in this._provisionalConsent.purposes)e.purposes[t]!==this._provisionalConsent.purposes[t]&amp;&amp;(e.purposes[t]=this._provisionalConsent.purposes[t],n=!0);return this._provisionalConsent=void 0,t.trace("merged",e),[e,n]}</code></p><p><code>530</code><code>))}</code></p><p><code>531</code><code>resetConsent(){return o.__awaiter(this,void 0,void 0,(function*(){return this._watcher.stop(),yield this._watcher.start(),this._consent.reset(),this._config.options=Object.assign(Object.assign({}</code></p><p><code>532</code><code>,this._config.options),{"Cache-Control":"no-cache"}</code></p><p><code>533</code><code>),this.getConsent()}</code></p><p><code>534</code><code>))}</code></p><p><code>535</code><code>getConsent(){var e,t;return o.__awaiter(this,void 0,void 0,(function*(){const n=(0,u.wrapLogger)(p.default,"getConsent");if(this.hasConsent())return n.trace("has consent"),this._consent.fulfilled;n.debug("obtaining consent");const o=yield this.getIdentities(),i=yield this.fetchConsent(o),[r,a]=yield this.overrideWithProvisionalConsent(i);let c=a;const d=this.selectExperience(r);if(this._config.purposes)for(const e of this._config.purposes)void 0!==r.purposes[e.code]||e.requiresOptIn||(r.purposes[e.code]=!0,c=!0);if((null===(e=this._config.deployment)||void 0===e?void 0:e.isOrchestrationOnly)||(null===(t=this._config)||void 0===t?void 0:t.isConfigPaused))return{}</code></p><p><code>536</code><code>;switch(n.debug("shouldCreatePermits",c),c?yield this.setConsent(r,s.SetConsentReason.DEFAULT_STATE):(this._consent.value=r,void 0!==i.protocols&amp;&amp;(this._protocols.value=i.protocols)),d){case s.ExperienceType.Consent:return this.showConsentExperience();case s.ExperienceType.Preference:return this.showPreferenceExperience()}</code></p><p><code>537</code><code>return this.emit(v.default.HIDE_EXPERIENCE_EVENT,s.ExperienceClosedReason.WILL_NOT_SHOW),this._consent.value}</code></p><p><code>538</code><code>))}</code></p><p><code>539</code><code>retrieveConsent(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("retrieveConsent"),this._consent.isFulfilled()?this._consent.fulfilled:{purposes:{}</code></p><p><code>540</code><code>,vendors:[],googleVendors:[]}</code></p><p><code>541</code><code>}</code></p><p><code>542</code><code>))}</code></p><p><code>543</code><code>fetchConsent(e){var t,n,i;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"fetchConsent");if(o.debug("identities",e),!e||0===Object.keys(e).length)throw h.default.noIdentitiesError;if(!(this._config&amp;&amp;this._config.property&amp;&amp;this._config.organization&amp;&amp;this._config.environment&amp;&amp;this._config.purposes&amp;&amp;this._config.jurisdiction&amp;&amp;0!==this._config.purposes.length))throw h.default.noPurposesError;const r={organizationCode:null!==(t=this._config.organization.code)&amp;&amp;void 0!==t?t:"",propertyCode:null!==(n=this._config.property.code)&amp;&amp;void 0!==n?n:"",environmentCode:this._config.environment.code,jurisdictionCode:null!==(i=this._config.jurisdiction.code)&amp;&amp;void 0!==i?i:"",identities:e,purposes:{}</code></p><p><code>544</code><code>}</code></p><p><code>545</code><code>;for(const e of this._config.purposes)r.purposes[e.code]={legalBasisCode:e.legalBasisCode}</code></p><p><code>546</code><code>;o.debug("request",r);let s=yield(0,g.getCachedConsent)(r,this._config);const a=Math.floor(Date.now()/1e3-g.CACHED_CONSENT_TTL);let d=!1,l=!1;if(0===Object.keys(s.purposes).length?o.debug("cached consent is empty",s):(null==s?void 0:s.collectedAt)&amp;&amp;s.collectedAt&lt;a?o.debug("revalidating cached consent",s):(0,c.default)(e,s.identities)?(o.debug("using cached consent",s),d=!0):(l=!0,o.debug("cached consent discarded due to identity mismatch",e,s.identities)),!d){if(this._config.purposes&amp;&amp;s.purposes&amp;&amp;!l)for(const e of this._config.purposes){const t=s.purposes[e.code];t&amp;&amp;(r.purposes[e.code]||(r.purposes[e.code]={}</code></p><p><code>547</code><code>),r.purposes[e.code].allowed="string"==typeof t?t:t.allowed)}</code></p><p><code>548</code><code>o.debug("calling getConsent",r),s=(e=&gt;{var t;if(o.trace("normalizeConsent",e),!e.purposes)return e.purposes={}</code></p><p><code>549</code><code>,e;for(const n of Object.keys(e.purposes)){const o=e.purposes[n];"string"==typeof o&amp;&amp;(e.purposes[n]={allowed:o,legalBasisCode:null===(t=r.purposes[n])||void 0===t?void 0:t.legalBasisCode}</code></p><p><code>550</code><code>)}</code></p><p><code>551</code><code>return o.trace("normalized",e),e}</code></p><p><code>552</code><code>)(yield this._api.getConsent(r)),o.debug("getConsent returned",s),yield(0,g.setCachedConsent)(s,this._config)}</code></p><p><code>553</code><code>yield(0,g.setPublicConsent)(s,this._config);const f={purposes:{}</code></p><p><code>554</code><code>}</code></p><p><code>555</code><code>;if(this._config.purposes&amp;&amp;s.purposes)for(const e of this._config.purposes)if(s.purposes[e.code]){const t=s.purposes[e.code];"string"==typeof t?f.purposes[e.code]="true"===t:t.allowed&amp;&amp;(f.purposes[e.code]="true"===t.allowed)}</code></p><p><code>556</code><code>return s.vendors&amp;&amp;(f.vendors=s.vendors),s.googleVendors&amp;&amp;(f.googleVendors=s.googleVendors),s.protocols&amp;&amp;(f.protocols=s.protocols),o.debug("returning",f),f}</code></p><p><code>557</code><code>))}</code></p><p><code>558</code><code>updateConsent(e,t){var n,i,r;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"updateConsent");if(o.debug(e,t),!e||0===Object.keys(e).length)throw o.debug("no identities"),h.default.noIdentitiesError;if(!(this._config&amp;&amp;this._config.organization&amp;&amp;this._config.property&amp;&amp;this._config.environment&amp;&amp;this._config.jurisdiction&amp;&amp;this._config.purposes&amp;&amp;0!==this._config.purposes.length))throw o.debug("invalid configuration"),h.default.invalidConfigurationError;if((0,f.default)(t)||(0,f.default)(t.purposes))throw o.debug("empty consent"),h.default.emptyConsentError;const s={organizationCode:null!==(n=this._config.organization.code)&amp;&amp;void 0!==n?n:"",propertyCode:null!==(i=this._config.property.code)&amp;&amp;void 0!==i?i:"",environmentCode:this._config.environment.code,identities:e,jurisdictionCode:null!==(r=this._config.jurisdiction.code)&amp;&amp;void 0!==r?r:"",purposes:{}</code></p><p><code>559</code><code>,vendors:t.vendors,googleVendors:t.googleVendors,collectedAt:Math.floor(Date.now()/1e3)}</code></p><p><code>560</code><code>;if(this._config.purposes&amp;&amp;t)for(const e of this._config.purposes)void 0!==t.purposes[e.code]&amp;&amp;(s.purposes[e.code]={allowed:t.purposes[e.code].toString(),legalBasisCode:e.legalBasisCode}</code></p><p><code>561</code><code>);if((0,f.default)(s.purposes))return o.debug("calculated consents empty"),s;yield(0,g.setCachedConsent)(s,this._config),yield(0,g.setPublicConsent)(s,this._config);const a=yield this._api.setConsent(s);return yield(0,g.setCachedConsent)(a,this._config),a}</code></p><p><code>562</code><code>))}</code></p><p><code>563</code><code>getSubscriptions(){var e,t,n,i,r,s,a,c;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"getSubscriptions");if(void 0===this._config.organization||void 0===this._config.property||void 0===this._config.environment)return o.trace("exiting because invalid config",this._config),this._subscriptions.value={}</code></p><p><code>564</code><code>,{}</code></p><p><code>565</code><code>;if(this._subscriptions.isFulfilled())return o.trace("cached",this._subscriptions.value),this._subscriptions;const d=yield this.getSubscriptionConfiguration();if(0===d.topics.length||void 0===d.identities||0===Object.keys(d.identities).length)return o.trace("exiting because invalid subscription config",d,d.topics.length,d.identities,Object.keys(d.identities)),this._subscriptions.value={}</code></p><p><code>566</code><code>,{}</code></p><p><code>567</code><code>;const l={organizationCode:null!==(n=null===(t=null===(e=this._config)||void 0===e?void 0:e.organization)||void 0===t?void 0:t.code)&amp;&amp;void 0!==n?n:"",controllerCode:"",propertyCode:null!==(s=null===(r=null===(i=this._config)||void 0===i?void 0:i.property)||void 0===r?void 0:r.code)&amp;&amp;void 0!==s?s:"",environmentCode:null===(c=null===(a=this._config)||void 0===a?void 0:a.environment)||void 0===c?void 0:c.code,collectedAt:Math.floor(Date.now()/1e3),identities:{}</code></p><p><code>568</code><code>}</code></p><p><code>569</code><code>,f=yield this.getIdentities();for(const e of Object.keys(d.identities))f[e]&amp;&amp;(l.identities[e]=f[e]);if(0===Object.keys(l.identities).length)return o.trace("exiting because no identities"),this._subscriptions.value={}</code></p><p><code>570</code><code>,{}</code></p><p><code>571</code><code>;const h=yield this._api.getSubscriptions(l);return this._subscriptions.value=h,o.trace("loaded",h),h}</code></p><p><code>572</code><code>))}</code></p><p><code>573</code><code>setSubscriptions(e){var t,n,i,r,s,a,c,d;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"setSubscriptions");if(o.trace("subscriptions",e,this._config),void 0===this._config.organization||void 0===this._config.property||void 0===this._config.environment)return void o.trace("exiting because of invalid config");const l=yield this.getSubscriptionConfiguration();if(0===l.topics.length||void 0===l.identities||0===Object.keys(l.identities).length)return void o.trace("exiting because of invalid subscription config",l,0===l.topics.length,l.identities,Object.keys(l.identities));const f={organizationCode:null!==(i=null===(n=null===(t=this._config)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.code)&amp;&amp;void 0!==i?i:"",controllerCode:"",propertyCode:null!==(a=null===(s=null===(r=this._config)||void 0===r?void 0:r.property)||void 0===s?void 0:s.code)&amp;&amp;void 0!==a?a:"",environmentCode:null===(d=null===(c=this._config)||void 0===c?void 0:c.environment)||void 0===d?void 0:d.code,topics:e.topics,controls:e.controls,collectedAt:Math.floor(Date.now()/1e3),identities:{}</code></p><p><code>574</code><code>}</code></p><p><code>575</code><code>,h=yield this.getIdentities();for(const e of Object.keys(l.identities))h[e]&amp;&amp;(f.identities[e]=h[e]);return 0===Object.keys(f.identities).length?(o.trace("exiting because no identities"),void(this._subscriptions.value={}</code></p><p><code>576</code><code>)):(this._subscriptions.value=e,this._api.setSubscriptions(f))}</code></p><p><code>577</code><code>))}</code></p><p><code>578</code><code>getSubscriptionConfiguration(){var e,t,n,i,r,s,a,c,d,l,f,h,_,g,v,E,y,b,m,C,w,T,N,O,I,S;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"getSubscriptionConfiguration");if(o.trace("config",this._config),this._subscriptionConfig.isFulfilled())return o.trace("cached",this._subscriptionConfig.value),this._subscriptionConfig;if(!(null===(n=null===(t=null===(e=this._config)||void 0===e?void 0:e.experiences)||void 0===t?void 0:t.preference)||void 0===n?void 0:n.code)||(null===(s=null===(r=null===(i=this._config)||void 0===i?void 0:i.services)||void 0===r?void 0:r.shoreline)||void 0===s?void 0:s.includes("v3"))){const e=this._config;return e.subscription?e.subscription:(this._subscriptionConfig.value={contactMethods:{}</code></p><p><code>579</code><code>,controls:[],identities:{}</code></p><p><code>580</code><code>,language:null!==(c=null===(a=this._config)||void 0===a?void 0:a.language)&amp;&amp;void 0!==c?c:"",organization:{code:null!==(f=null===(l=null===(d=this._config)||void 0===d?void 0:d.organization)||void 0===l?void 0:l.code)&amp;&amp;void 0!==f?f:""}</code></p><p><code>581</code><code>,property:{code:null!==(g=null===(_=null===(h=this._config)||void 0===h?void 0:h.property)||void 0===_?void 0:_.code)&amp;&amp;void 0!==g?g:""}</code></p><p><code>582</code><code>,topics:[]}</code></p><p><code>583</code><code>,this._subscriptionConfig.value)}</code></p><p><code>584</code><code>const P=yield this._api.getSubscriptionsConfiguration({organizationCode:null!==(y=null===(E=null===(v=this._config)||void 0===v?void 0:v.organization)||void 0===E?void 0:E.code)&amp;&amp;void 0!==y?y:"",propertyCode:null!==(C=null===(m=null===(b=this._config)||void 0===b?void 0:b.property)||void 0===m?void 0:m.code)&amp;&amp;void 0!==C?C:"",languageCode:null!==(T=null===(w=this._config)||void 0===w?void 0:w.language)&amp;&amp;void 0!==T?T:"",experienceCode:null!==(S=null===(I=null===(O=null===(N=this._config)||void 0===N?void 0:N.experiences)||void 0===O?void 0:O.preference)||void 0===I?void 0:I.code)&amp;&amp;void 0!==S?S:""}</code></p><p><code>585</code><code>);return o.trace("loaded",P),this._subscriptionConfig.value=P,P}</code></p><p><code>586</code><code>))}</code></p><p><code>587</code><code>getConsentConfiguration(){var e,t,n,i,r,s,a,c;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"getConsentConfiguration");if(o.trace("config",this._config),this._consentConfig.isFulfilled())return o.trace("cached",this._consentConfig.value),this._consentConfig;const d=yield this._api.getConsentConfiguration({organizationCode:this._config.organization.code,propertyCode:null!==(t=null===(e=this._config.property)||void 0===e?void 0:e.code)&amp;&amp;void 0!==t?t:"",envCode:null!==(i=null===(n=this._config.environment)||void 0===n?void 0:n.code)&amp;&amp;void 0!==i?i:"",jurisdictionCode:null!==(s=null===(r=this._config.jurisdiction)||void 0===r?void 0:r.code)&amp;&amp;void 0!==s?s:"",langCode:null!==(a=this._config.language)&amp;&amp;void 0!==a?a:"",hash:null===(c=this._config.environment)||void 0===c?void 0:c.hash}</code></p><p><code>588</code><code>);return o.trace("loaded",d),this._consentConfig.value=d,d}</code></p><p><code>589</code><code>))}</code></p><p><code>590</code><code>getPreferenceConfiguration(){var e,t,n,i,r,s,a,c;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"getPreferenceConfiguration");if(o.trace("config",this._config),this._preferenceConfig.isFulfilled())return o.trace("cached",this._preferenceConfig.value),this._preferenceConfig;const d=yield this._api.getPreferenceConfiguration({organizationCode:this._config.organization.code,propertyCode:null!==(t=null===(e=this._config.property)||void 0===e?void 0:e.code)&amp;&amp;void 0!==t?t:"",envCode:null!==(i=null===(n=this._config.environment)||void 0===n?void 0:n.code)&amp;&amp;void 0!==i?i:"",jurisdictionCode:null!==(s=null===(r=this._config.jurisdiction)||void 0===r?void 0:r.code)&amp;&amp;void 0!==s?s:"",langCode:null!==(a=this._config.language)&amp;&amp;void 0!==a?a:"",hash:null===(c=this._config.environment)||void 0===c?void 0:c.hash}</code></p><p><code>591</code><code>);return o.trace("loaded",d),this._preferenceConfig.value=d,d}</code></p><p><code>592</code><code>))}</code></p><p><code>593</code><code>setEnvironment(e){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("setEnvironment",e),this._environment.value=e,this._environment.fulfilled}</code></p><p><code>594</code><code>))}</code></p><p><code>595</code><code>getEnvironment(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("getEnvironment"),this._environment.fulfilled}</code></p><p><code>596</code><code>))}</code></p><p><code>597</code><code>setGeoIP(e){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("setGeoIP",e),this._geoip.value=e,this._geoip.fulfilled}</code></p><p><code>598</code><code>))}</code></p><p><code>599</code><code>getGeoIP(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("getGeoIP"),this._geoip.fulfilled}</code></p><p><code>600</code><code>))}</code></p><p><code>601</code><code>extractGAID(e){const t=/^GA\d\.\d\.(\d+\.\d+)$/.exec(e);return t?"GA1.1."+t[1]:e}</code></p><p><code>602</code><code>setIdentities(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=(0,u.wrapLogger)(p.default,"setIdentities");t.debug(e);let n={}</code></p><p><code>603</code><code>;this._identities.isFulfilled()&amp;&amp;(n=this._identities.value);for(const o in e)"google_analytics_cookie"!==o||"utc"!==this._config.organization.code&amp;&amp;"vara_labs"!==this._config.organization.code||(t.debug("altering google_analytics_cookie to get id with GA1.1. prefix"),e[o]=this.extractGAID(e[o])),n[o]=e[o];if(this._identities.value=n,this._identitiesCurrent=n,this._isExperienceDisplayed)return t.trace("experience displayed"),n;const o=yield this.retrieveConsent();if(0==Object.keys(o.purposes).length)return n;const i=yield this.fetchConsent(n);if((0,c.default)(i.purposes,o.purposes)){let e=!1;for(const t in i)if(i.purposes[t]!==o.purposes[t]){e=!0;break}</code></p><p><code>604</code><code>if(!e)return n}</code></p><p><code>605</code><code>if(this._hasExperienceBeenDisplayed){t.trace("updating consent because experience displayed");try{yield this.updateConsent(n,o)}</code></p><p><code>606</code><code>catch(e){let n="";e instanceof Error&amp;&amp;(n=e.message),t.warn("unable to update consent",n)}</code></p><p><code>607</code><code>return n}</code></p><p><code>608</code><code>return yield this.showConsentExperience(),n}</code></p><p><code>609</code><code>))}</code></p><p><code>610</code><code>collectIdentities(){var e,t,n;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"collectIdentities");o.debug(this._config.identities);const i=this._config.identities;if(!this._config||!this._config.organization||void 0===i||(0,f.default)(i))return o.trace("invalid configuration"),void(this._identities.value={}</code></p><p><code>611</code><code>);const r=this._watcher;let a=(e,t)=&gt;{r.add(e,t)}</code></p><p><code>612</code><code>;if(null===(e=this._config.property)||void 0===e?void 0:e.proxy)try{const e=new URL(null===(t=this._config.property)||void 0===t?void 0:t.proxy),n=new URL(window.location.href);if(e.origin!==n.origin&amp;&amp;(a=(e,t)=&gt;{i[e].type!==s.IdentityType.IDENTITY_TYPE_LOCAL_STORAGE&amp;&amp;r.add(e,t)}</code></p><p><code>613</code><code>,!this._hasProxyLoaded)){this._hasProxyLoaded=!0,yield d.proxy.open(e.toString());for(const e of Object.keys(i)){const t=i[e];t.type===s.IdentityType.IDENTITY_TYPE_LOCAL_STORAGE&amp;&amp;(yield this.registerIdentityProvider(e,(()=&gt;d.proxy.invoke("getIdentity",t))))}</code></p><p><code>614</code><code>}</code></p><p><code>615</code><code>}</code></p><p><code>616</code><code>catch(e){o.error(`error checking proxy '${null===(n=this._config.property)||void 0===n?void 0:n.proxy}</code></p><p><code>617</code><code>'`,e)}</code></p><p><code>618</code><code>for(const e of Object.keys(i))a(e,i[e]);o.info("starting watcher"),yield this._watcher.start()}</code></p><p><code>619</code><code>))}</code></p><p><code>620</code><code>getIdentities(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("getIdentities"),this._identities.isFulfilled()||(yield this.collectIdentities()),this._identities.fulfilled}</code></p><p><code>621</code><code>))}</code></p><p><code>622</code><code>getCurrentIdentities(){return p.default.debug("getCurrentIdentities"),this._identitiesCurrent}</code></p><p><code>623</code><code>setJurisdiction(e){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("setJurisdiction",e),this._jurisdiction.value=e,this._jurisdiction.fulfilled}</code></p><p><code>624</code><code>))}</code></p><p><code>625</code><code>getJurisdiction(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("getJurisdiction"),this._jurisdiction.fulfilled}</code></p><p><code>626</code><code>))}</code></p><p><code>627</code><code>setRegionInfo(e){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("setRegionInfo",e),this._regionInfo.value=e,this._regionInfo.fulfilled}</code></p><p><code>628</code><code>))}</code></p><p><code>629</code><code>getRegionInfo(){return o.__awaiter(this,void 0,void 0,(function*(){return p.default.debug("getRegionInfo"),this._regionInfo.fulfilled}</code></p><p><code>630</code><code>))}</code></p><p><code>631</code><code>getIsExperienceDisplayed(){return p.default.debug("getIsExperienceDisplayed"),this._isExperienceDisplayed}</code></p><p><code>632</code><code>invokeRight(e){var t,n,i;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,u.wrapLogger)(p.default,"invokeRight");if(o.debug(e),!e.subject||!e.subject.email||""===e.subject.email||!e.right||""===e.right)return void o.warn("invalid right invocation request");const r={}</code></p><p><code>633</code><code>;if(this._identities.isFulfilled()&amp;&amp;Object.entries(this._identities.value).forEach((([e,t])=&gt;{r[e]=t}</code></p><p><code>634</code><code>)),r.email=e.subject.email,!(this._config&amp;&amp;this._config.organization&amp;&amp;this._config.property&amp;&amp;this._config.environment&amp;&amp;this._config.jurisdiction&amp;&amp;this._config.rights&amp;&amp;0!==this._config.rights.length))return void o.warn("invalid configuration");const s=e.subject,a={organizationCode:null!==(t=this._config.organization.code)&amp;&amp;void 0!==t?t:"",propertyCode:null!==(n=this._config.property.code)&amp;&amp;void 0!==n?n:"",environmentCode:this._config.environment.code,controllerCode:"",identities:r,jurisdictionCode:null!==(i=this._config.jurisdiction.code)&amp;&amp;void 0!==i?i:"",rightCode:e.right,user:s,recaptchaToken:e.recaptchaToken}</code></p><p><code>635</code><code>;return this.emit(v.default.RIGHT_INVOKED_EVENT,a),this._api.invokeRight(a)}</code></p><p><code>636</code><code>))}</code></p><p><code>637</code><code>handleKeyboardEvent(e){(0,u.wrapLogger)(p.default,"handleKeyboardEvent").debug(e),(0,l.default)(e,(()=&gt;{this.returnKeyboardControl()}</code></p><p><code>638</code><code>))}</code></p><p><code>639</code><code>returnKeyboardControl(){(0,u.wrapLogger)(p.default,"returnKeyboardControl").debug("returnKeyboardControl"),this.emit(v.default.RETURN_KEYBOARD_CONTROL)}</code></p><p><code>640</code><code>emit(e,...t){var n,o,i,r,s;const a=(0,u.wrapLogger)(p.default,"emit");if(a.trace(e,t),window.androidListener||(null===(n=window.webkit)||void 0===n?void 0:n.messageHandlers)||(null===(o=window.ReactNativeWebView)||void 0===o?void 0:o.postMessage)){const n=e.toString(),o=[];for(const e of t)e!==this&amp;&amp;o.push(e);let c;1===o.length&amp;&amp;"string"==typeof o[0]?c=o[0]:1===o.length?c=JSON.stringify(o[0]):o.length&gt;1&amp;&amp;(c=JSON.stringify(o)),window.androidListener&amp;&amp;n in window.androidListener?(a.trace("androidListener",window.androidListener,c),0===o.length?window.androidListener[n]():window.androidListener[n](c)):(null===(i=window.webkit)||void 0===i?void 0:i.messageHandlers)&amp;&amp;n in window.webkit.messageHandlers?(a.trace("webkitMessageHandlers",null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers,c),window.webkit.messageHandlers[n].postMessage(c)):(null===(s=window.ReactNativeWebView)||void 0===s?void 0:s.postMessage)?window.ReactNativeWebView.postMessage(JSON.stringify({event:e,data:c}</code></p><p><code>641</code><code>)):a.warn(`Can't pass message to native code because "${n}</code></p><p><code>642</code><code>" handler is not registered`)}</code></p><p><code>643</code><code>if(this._config&amp;&amp;this._config.options&amp;&amp;this._config.options.externalListener&amp;&amp;window[this._config.options.externalListener]){const n=window[this._config.options.externalListener],o=e.toString(),i=[];for(const e of t)e!==this&amp;&amp;i.push(e);let r;1===i.length&amp;&amp;"string"==typeof i[0]||1===i.length?r=i[0]:i.length&gt;1&amp;&amp;(r=i);let s={event:o,data:r}</code></p><p><code>644</code><code>;s=JSON.stringify(s),"function"==typeof n?n(s):"postMessage"in n&amp;&amp;"function"==typeof n.postMessage?n.postMessage(s):"object"==typeof n&amp;&amp;o in n&amp;&amp;("function"===n[o]?n[o](r):"postMessage"in n[o]&amp;&amp;n[o].postMessage(r))}</code></p><p><code>645</code><code>return super.emit(e,...t)}</code></p><p><code>646</code><code>addListener(e,t){return this.on(e,t)}</code></p><p><code>647</code><code>on(e,t){p.default.trace("on",e,t);const n=this.mapEvent(e);return void 0!==n?(n.on(v.default.FULFILLED_EVENT,t),this):(this.isSingletonEvent(e)&amp;&amp;super.removeAllListeners(e),super.on(e,t),this.emit("addedListener",e,t),this)}</code></p><p><code>648</code><code>once(e,t){p.default.trace("once",e,t);const n=this.mapEvent(e);return void 0!==n?(n.once(v.default.FULFILLED_EVENT,t),this):(this.isSingletonEvent(e)&amp;&amp;super.removeAllListeners(e),super.once(e,t),this.emit("addedListener",e,t),this)}</code></p><p><code>649</code><code>removeListener(e,t){p.default.trace("off",e,t);const n=this.mapEvent(e);return void 0!==n?(n.removeListener(v.default.FULFILLED_EVENT,t),this):super.removeListener(e,t)}</code></p><p><code>650</code><code>off(e,t){return this.removeListener(e,t)}</code></p><p><code>651</code><code>isSingletonEvent(e){return e===v.default.SHOW_CONSENT_EXPERIENCE_EVENT||e===v.default.SHOW_PREFERENCE_EXPERIENCE_EVENT}</code></p><p><code>652</code><code>mapEvent(e){switch(e){case v.default.CONSENT_EVENT:return this._consent;case v.default.ENVIRONMENT_EVENT:return this._environment;case v.default.GEOIP_EVENT:return this._geoip;case v.default.HANDLE_KEYBOARD_EVENT:return this._handleKeyboardEvent;case v.default.IDENTITIES_EVENT:return this._identities;case v.default.JURISDICTION_EVENT:return this._jurisdiction;case v.default.REGION_INFO_EVENT:return this._regionInfo;case v.default.RETURN_KEYBOARD_CONTROL:return this._returnKeyboardControl;case v.default.SUBSCRIPTIONS_EVENT:return this._subscriptions;case v.default.SUBSCRIPTION_CONFIG_EVENT:return this._subscriptionConfig}</code></p><p><code>653</code><code>}</code></p><p><code>654</code><code>}</code></p><p><code>655</code><code>t.Ketch=y}</code></p><p><code>656</code><code>,3004:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>657</code><code>);const o=n(1635),i=o.__importDefault(n(7931)),r=o.__importDefault(n(5834)),s=o.__importDefault(n(8705)),a=o.__importDefault(n(6092)),c=n(5305);t.default=class{constructor(e){this._ketch=e}</code></p><p><code>658</code><code>push(e){if(void 0===e)return;let t;"string"==typeof e?(t=e,e=[]):(e=Array.from(e),t=e.shift()),i.default.trace(t),this.route(t,...e).then((()=&gt;{i.default.trace(`${t}</code></p><p><code>659</code><code> completed`)}</code></p><p><code>660</code><code>)).catch((e=&gt;{i.default.warn(`${t}</code></p><p><code>661</code><code> failed: ${e}</code></p><p><code>662</code><code>`)}</code></p><p><code>663</code><code>))}</code></p><p><code>664</code><code>route(e,...t){return o.__awaiter(this,void 0,void 0,(function*(){const n=(0,c.wrapLogger)((0,c.wrapLogger)(i.default,"route"),e);if("push"===e||"route"===e)throw r.default.actionNotFoundError(e);const o=this[e];if(void 0===o)throw r.default.actionNotFoundError(e);if(n.debug(t,t.length,o.length),t.length&lt;=o.length)return o.apply(this,t);if(t.length==o.length+1){const n=t.pop();if(!(0,s.default)(n))throw r.default.expectedFunctionError(e);return o.apply(this,t).then(n)}</code></p><p><code>665</code><code>const a=t.pop();if(!(0,s.default)(a))throw r.default.expectedFunctionError(e);const u=t.pop();if(!(0,s.default)(u))throw r.default.expectedFunctionError(e);return o.apply(this,t).then(u).catch(a)}</code></p><p><code>666</code><code>))}</code></p><p><code>667</code><code>getConfig(){return this._ketch.getConfig()}</code></p><p><code>668</code><code>getFullConfig(){return this._ketch.getFullConfig()}</code></p><p><code>669</code><code>getConsent(){return this._ketch.getConsent()}</code></p><p><code>670</code><code>getEnvironment(){return this._ketch.getEnvironment()}</code></p><p><code>671</code><code>getGeoIP(){return this._ketch.getGeoIP()}</code></p><p><code>672</code><code>getIdentities(){return this._ketch.getIdentities()}</code></p><p><code>673</code><code>getJurisdiction(){return this._ketch.getJurisdiction()}</code></p><p><code>674</code><code>getRegionInfo(){return this._ketch.getRegionInfo()}</code></p><p><code>675</code><code>onConsent(e){return i.default.debug(`onConsent is deprecated - use ketch("on", "${a.default.CONSENT_EVENT}</code></p><p><code>676</code><code>", listener) instead`),this._ketch.on(a.default.CONSENT_EVENT,e),Promise.resolve()}</code></p><p><code>677</code><code>onEnvironment(e){return i.default.debug(`onEnvironment is deprecated - use ketch("on", "${a.default.ENVIRONMENT_EVENT}</code></p><p><code>678</code><code>", listener) instead`),this._ketch.on(a.default.ENVIRONMENT_EVENT,e),Promise.resolve()}</code></p><p><code>679</code><code>onGeoIP(e){return i.default.debug(`onGeoIP is deprecated - use ketch("on", "${a.default.GEOIP_EVENT}</code></p><p><code>680</code><code>", listener) instead`),this._ketch.on(a.default.GEOIP_EVENT,e),Promise.resolve()}</code></p><p><code>681</code><code>onHideExperience(e){return i.default.debug(`onHideExperience is deprecated - use ketch("on", "${a.default.HIDE_EXPERIENCE_EVENT}</code></p><p><code>682</code><code>", listener) instead`),this._ketch.on(a.default.HIDE_EXPERIENCE_EVENT,e),Promise.resolve()}</code></p><p><code>683</code><code>onWillShowExperience(e){return i.default.debug('onWillShowExperience is deprecated - use ketch("on", "'+a.default.WILL_SHOW_EXPERIENCE_EVENT+'", listener) instead'),this._ketch.on(a.default.WILL_SHOW_EXPERIENCE_EVENT,e),Promise.resolve()}</code></p><p><code>684</code><code>onIdentities(e){return i.default.debug(`onIdentities is deprecated - use ketch("on", "${a.default.IDENTITIES_EVENT}</code></p><p><code>685</code><code>", listener) instead`),this._ketch.on(a.default.IDENTITIES_EVENT,e),Promise.resolve()}</code></p><p><code>686</code><code>onJurisdiction(e){return i.default.debug(`onJurisdiction is deprecated - use ketch("on", "${a.default.JURISDICTION_EVENT}</code></p><p><code>687</code><code>", listener) instead`),this._ketch.on(a.default.JURISDICTION_EVENT,e),Promise.resolve()}</code></p><p><code>688</code><code>onRegionInfo(e){return i.default.debug(`onRegionInfo is deprecated - use ketch("on", "${a.default.REGION_INFO_EVENT}</code></p><p><code>689</code><code>", listener) instead`),this._ketch.on(a.default.REGION_INFO_EVENT,e),Promise.resolve()}</code></p><p><code>690</code><code>setEnvironment(e){return i.default.warn("setEnvironment is deprecated"),this._ketch.setEnvironment(e).then((()=&gt;{}</code></p><p><code>691</code><code>))}</code></p><p><code>692</code><code>setGeoIP(e){return i.default.warn("setGeoIP is deprecated"),this._ketch.setGeoIP(e).then((()=&gt;{}</code></p><p><code>693</code><code>))}</code></p><p><code>694</code><code>setIdentities(e){return this._ketch.setIdentities(e).then((()=&gt;{}</code></p><p><code>695</code><code>))}</code></p><p><code>696</code><code>setJurisdiction(e){return i.default.warn("setJurisdiction is deprecated"),this._ketch.setJurisdiction(e).then((()=&gt;{}</code></p><p><code>697</code><code>))}</code></p><p><code>698</code><code>setRegionInfo(e){return i.default.warn("setRegionInfo is deprecated"),this._ketch.setRegionInfo(e).then((()=&gt;{}</code></p><p><code>699</code><code>))}</code></p><p><code>700</code><code>showConsent(e){return this._ketch.showConsentExperience(e).then((()=&gt;{}</code></p><p><code>701</code><code>))}</code></p><p><code>702</code><code>showPreferences(e){return this._ketch.showPreferenceExperience(e).then((()=&gt;{}</code></p><p><code>703</code><code>))}</code></p><p><code>704</code><code>showProgressiveExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.showProgressiveExperience(e)}</code></p><p><code>705</code><code>))}</code></p><p><code>706</code><code>showExperience(e){return o.__awaiter(this,void 0,void 0,(function*(){return this._ketch.showExperience(e)}</code></p><p><code>707</code><code>))}</code></p><p><code>708</code><code>reinit(){return this._ketch.resetConsent().then((()=&gt;{}</code></p><p><code>709</code><code>))}</code></p><p><code>710</code><code>handleKeyboardEvent(e){return this._ketch.handleKeyboardEvent(e)}</code></p><p><code>711</code><code>returnKeyboardControl(){return this._ketch.returnKeyboardControl()}</code></p><p><code>712</code><code>registerPlugin(e,t){return this._ketch.registerPlugin(e,t)}</code></p><p><code>713</code><code>registerIdentityProvider(e,t){return this._ketch.registerIdentityProvider(e,t)}</code></p><p><code>714</code><code>registerExperienceServer(e){return this._ketch.registerExperienceServer(e)}</code></p><p><code>715</code><code>registerStorageProvider(e,t){return this._ketch.registerStorageProvider(e,t)}</code></p><p><code>716</code><code>setConsent(e,t){return this._ketch.setConsent(e,t).then((()=&gt;{}</code></p><p><code>717</code><code>))}</code></p><p><code>718</code><code>emit(e,...t){return this._ketch.emit(e,...t),Promise.resolve()}</code></p><p><code>719</code><code>on(e,t){return this._ketch.on(e,t),Promise.resolve()}</code></p><p><code>720</code><code>once(e,t){return this._ketch.once(e,t),Promise.resolve()}</code></p><p><code>721</code><code>addListener(e,t){return this._ketch.addListener(e,t),Promise.resolve()}</code></p><p><code>722</code><code>removeListener(e,t){return this._ketch.removeListener(e,t),Promise.resolve()}</code></p><p><code>723</code><code>off(e,t){return this._ketch.off(e,t),Promise.resolve()}</code></p><p><code>724</code><code>removeAllListeners(e){return this._ketch.removeAllListeners(e),Promise.resolve()}</code></p><p><code>725</code><code>}</code></p><p><code>726</code><code>}</code></p><p><code>727</code><code>,372:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>728</code><code>),t.TagsConfig=void 0;const o=n(1635),i=o.__importDefault(n(6092)),r=o.__importDefault(n(7931)),s=n(5305),a=n(436);t.TagsConfig=[{elementName:"script",purposesAttribute:"data-purposes",requiredAttributeValues:{type:"text/plain"}</code></p><p><code>729</code><code>,enableActions:{attributeValueSwaps:{type:"text/javascript"}</code></p><p><code>730</code><code>}</code></p><p><code>731</code><code>}</code></p><p><code>732</code><code>,{elementName:"iframe",purposesAttribute:"data-purposes",requiredAttributes:["data-src"],enableActions:{attributeNameSwaps:{"data-src":"src"}</code></p><p><code>733</code><code>}</code></p><p><code>734</code><code>}</code></p><p><code>735</code><code>,{elementName:"script",requiredAttributes:["data-ketch-id"],requiredAttributeValues:{type:"text/plain"}</code></p><p><code>736</code><code>,enableActions:{attributeValueSwaps:{type:"text/javascript"}</code></p><p><code>737</code><code>}</code></p><p><code>738</code><code>,isPlatformMapped:!0}</code></p><p><code>739</code><code>,{elementName:"script",purposesAttribute:"data-purposes-all",requiredAttributeValues:{type:"text/plain"}</code></p><p><code>740</code><code>,enableActions:{attributeValueSwaps:{type:"text/javascript"}</code></p><p><code>741</code><code>}</code></p><p><code>742</code><code>,requireAllPurposes:!0}</code></p><p><code>743</code><code>,{elementName:"iframe",purposesAttribute:"data-purposes-all",requiredAttributes:["data-src"],enableActions:{attributeNameSwaps:{"data-src":"src"}</code></p><p><code>744</code><code>}</code></p><p><code>745</code><code>,requireAllPurposes:!0}</code></p><p><code>746</code><code>],t.default=class{constructor(e,t,n){this._results={}</code></p><p><code>747</code><code>,this.getMappedElements=(e,t,n,o,i=!1)=&gt;{const a=(0,s.wrapLogger)(r.default,"tags: getMappedElements"),c=document.querySelectorAll(e),u=Array.from(c).filter((e=&gt;{const r=!!t&amp;&amp;e.hasAttribute(t),s=i&amp;&amp;e.hasAttribute("data-ketch-id"),a=!n||(null==n?void 0:n.every((t=&gt;e.hasAttribute(t)))),c=!o||Object.entries(o).every((([t,n])=&gt;e.getAttribute(t)===n));return(r||s)&amp;&amp;a&amp;&amp;c}</code></p><p><code>748</code><code>));return a.debug(`found ${u.length}</code></p><p><code>749</code><code> '${e}</code></p><p><code>750</code><code>' elements mapped to ketch purposes`),u}</code></p><p><code>751</code><code>,this.enableElement=(e,t={}</code></p><p><code>752</code><code>,n={}</code></p><p><code>753</code><code>)=&gt;{let o;return(0,s.wrapLogger)(r.default,"tags: enableElement").debug("enabling element",e),Object.entries(t).forEach((([t,n])=&gt;{const o=e.getAttribute(t);o&amp;&amp;(e.setAttribute(n,o),e.removeAttribute(t))}</code></p><p><code>754</code><code>)),Object.entries(n).forEach((([t,n])=&gt;{var i;o=e.cloneNode(!0),o.setAttribute(t,n),null===(i=e.parentNode)||void 0===i||i.replaceChild(o,e)}</code></p><p><code>755</code><code>)),null!=o?o:e}</code></p><p><code>756</code><code>,this.getGrantedPurposes=()=&gt;o.__awaiter(this,void 0,void 0,(function*(){const e=(0,s.wrapLogger)(r.default,"tags: getGrantedPurposes"),t=yield this._ketch.getConsent(),n=(null==t?void 0:t.purposes)||{}</code></p><p><code>757</code><code>;return e.debug("got consent purposes",n),new Set(Object.keys(n).filter((e=&gt;!0===n[e])))}</code></p><p><code>758</code><code>)),this.getRequiredPurposes=(e,t,n=!1)=&gt;{var o,i,a;const c=(0,s.wrapLogger)(r.default,"tags: getRequiredPurposes");if(n){const t=e.getAttribute("data-ketch-id")||"";return(null===(i=null===(o=this._config.tags)||void 0===o?void 0:o[t])||void 0===i?void 0:i.purposeCodes)||[]}</code></p><p><code>759</code><code>return t?(null===(a=e.getAttribute(t))||void 0===a?void 0:a.split(" "))||[]:(c.error("No purposes attribute for element: ",e),[])}</code></p><p><code>760</code><code>,this.execute=()=&gt;o.__awaiter(this,void 0,void 0,(function*(){const e=(0,s.wrapLogger)(r.default,"tags: execute"),t=yield this.getGrantedPurposes();return e.debug("granted purposes",t),this._tagsConfig.forEach((n=&gt;o.__awaiter(this,void 0,void 0,(function*(){var o,i;const{elementName:r,purposesAttribute:s,requiredAttributes:a,requiredAttributeValues:c,enableActions:{attributeNameSwaps:u,attributeValueSwaps:d}</code></p><p><code>761</code><code>,isPlatformMapped:l,requireAllPurposes:f}</code></p><p><code>762</code><code>=n,p=this.getMappedElements(r,s,a,c,l),h=p.filter((n=&gt;{const o=this.getRequiredPurposes(n,s,l),i=l&amp;&amp;!o.length;e.debug("required purposes for element",n,o);const r=f?o.every((e=&gt;t.has(e))):o.some((e=&gt;t.has(e)));return!(!i&amp;&amp;!r||(this.enableElement(n,u,d),0))}</code></p><p><code>763</code><code>)),_=p.filter((e=&gt;!this.getRequiredPurposes(e,s,l).some((e=&gt;t.has(e))))),g=(null===(o=this._results[r])||void 0===o?void 0:o.enabledElements)||[],v=((null===(i=this._results[r])||void 0===i?void 0:i.disabledElements)||[]).filter((e=&gt;!g.includes(e)&amp;&amp;!h.includes(e)));this._results[r]={enabledElements:[...g,...h],disabledElements:[...v.filter((e=&gt;!_.includes(e))),..._]}</code></p><p><code>764</code><code>,e.debug(`enabled ${r}</code></p><p><code>765</code><code> elements:`,h,`disabled ${r}</code></p><p><code>766</code><code> elements:`,_)}</code></p><p><code>767</code><code>)))),(0,a.addToKetchLog)("getWrappedTags",(()=&gt;{Object.entries(this._results).forEach((([e,{enabledElements:t,disabledElements:n}</code></p><p><code>768</code><code>])=&gt;{console.group(`%cWrapped %c&lt;${e}</code></p><p><code>769</code><code>&gt;%c Tags`,"","font-family: monospace; background-color: #f4f4f4; padding: 2px 4px; border-radius: 3px; color: #333;",""),console.groupCollapsed(`%cBlocked (${n.length}</code></p><p><code>770</code><code>)`,"color: red"),n.forEach((e=&gt;console.log(e))),console.groupEnd(),console.groupCollapsed(`%cAllowed (${t.length}</code></p><p><code>771</code><code>)`,"color: green"),t.forEach((e=&gt;console.log(e))),console.groupEnd(),console.groupEnd()}</code></p><p><code>772</code><code>))}</code></p><p><code>773</code><code>)),Object.values(this._results).reduce(((e,t)=&gt;e.concat(t.enabledElements)),[])}</code></p><p><code>774</code><code>)),this._ketch=e,this._tagsConfig=t,this._config=n,this._ketch.on(i.default.CONSENT_EVENT,(()=&gt;this.execute()))}</code></p><p><code>775</code><code>}</code></p><p><code>776</code><code>}</code></p><p><code>777</code><code>,532:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>778</code><code>);const o=n(1635),i=n(8509),r=n(5305),s=o.__importDefault(n(7931)),a=o.__importDefault(n(5834)),c=n(4835),u=o.__importDefault(n(300)),d=n(4999);t.default=class{constructor(e,t){this._ketch=e,this._config=t,this._api=new d.KetchWebAPI((0,u.default)(this._config))}</code></p><p><code>779</code><code>normalizeConsent(e,t){var n;if(!e.purposes)return e.purposes={}</code></p><p><code>780</code><code>,e;for(const o of Object.keys(e.purposes)){const i=e.purposes[o];"string"==typeof i&amp;&amp;(e.purposes[o]={allowed:i,legalBasisCode:null===(n=t.purposes[o])||void 0===n?void 0:n.legalBasisCode}</code></p><p><code>781</code><code>)}</code></p><p><code>782</code><code>return e}</code></p><p><code>783</code><code>enableAllConsent(){var e,t,n;return o.__awaiter(this,void 0,void 0,(function*(){const o=(0,r.wrapLogger)(s.default,"trackers: enableAllConsent");if(this._ketch.hasConsent())return o.trace("trackers: has consent"),this._ketch.getConsent();o.debug("trackers: obtaining and setting consent");const u=yield this._ketch.getIdentities();if(o.debug("trackers: identities",u),!u||0===Object.keys(u).length)throw a.default.noIdentitiesError;if(!(this._config&amp;&amp;this._config.property&amp;&amp;this._config.organization&amp;&amp;this._config.environment&amp;&amp;this._config.purposes&amp;&amp;this._config.jurisdiction&amp;&amp;0!==this._config.purposes.length))throw a.default.noPurposesError;const d={organizationCode:null!==(e=this._config.organization.code)&amp;&amp;void 0!==e?e:"",propertyCode:null!==(t=this._config.property.code)&amp;&amp;void 0!==t?t:"",environmentCode:this._config.environment.code,jurisdictionCode:null!==(n=this._config.jurisdiction.code)&amp;&amp;void 0!==n?n:"",identities:u,purposes:{}</code></p><p><code>784</code><code>}</code></p><p><code>785</code><code>;for(const e of this._config.purposes)d.purposes[e.code]={legalBasisCode:e.legalBasisCode}</code></p><p><code>786</code><code>;o.debug("trackers: calling getConsent",d);const l=this.normalizeConsent(yield this._api.getConsent(d),d);o.debug("trackers: getConsent returned",l),yield(0,c.setCachedConsent)(l,this._config),yield(0,c.setPublicConsent)(l,this._config);const f={purposes:{}</code></p><p><code>787</code><code>}</code></p><p><code>788</code><code>;if(null==l?void 0:l.purposes)for(const[e]of Object.entries(l.purposes))f.purposes[e]=!0;return l.vendors&amp;&amp;(f.vendors=l.vendors),l.googleVendors&amp;&amp;(f.googleVendors=l.googleVendors),l.protocols&amp;&amp;(f.protocols=l.protocols),o.debug("trackers: newConsent",f),yield this._ketch.setConsent(f,i.SetConsentReason.USER_UPDATE),f}</code></p><p><code>789</code><code>))}</code></p><p><code>790</code><code>}</code></p><p><code>791</code><code>}</code></p><p><code>792</code><code>,8773:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>793</code><code>),t.boot=void 0;const o=n(1635),i=o.__importDefault(n(8347)),r=o.__importDefault(n(7931)),s=o.__importDefault(n(2774));t.boot=function(){return o.__awaiter(this,void 0,void 0,(function*(){window.semaphore=window.semaphore||[],window.ketch=window.ketch||s.default;const e=()=&gt;o.__awaiter(this,void 0,void 0,(function*(){try{yield(0,i.default)()}</code></p><p><code>794</code><code>catch(e){r.default.error(e)}</code></p><p><code>795</code><code>}</code></p><p><code>796</code><code>));"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}</code></p><p><code>797</code><code>):yield e()}</code></p><p><code>798</code><code>))}</code></p><p><code>799</code><code>}</code></p><p><code>800</code><code>,4835:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>801</code><code>),t.setCacheEntry=t.getCacheEntry=t.clearCacheEntry=t.setCachedNavNode=t.getCachedNavNode=t.getLanyardRoot=t.setPublicConsent=t.setCachedConsent=t.getCachedConsent=t.KEYBOARD_HANDLER_CACHE_KEYS=t.PUBLIC_CONSENT_TTL=t.CACHED_CONSENT_TTL=t.CACHED_PROTOCOLS_KEY=t.PUBLIC_CONSENT_KEY_V1=t.CACHED_CONSENT_KEY=void 0;const o=n(1635),i=n(9791),r=n(835),s=n(5305),a=o.__importDefault(n(7931)),c=n(6092),u=n(7296);t.CACHED_CONSENT_KEY="_swb_consent_",t.PUBLIC_CONSENT_KEY_V1="_ketch_consent_v1_",t.CACHED_PROTOCOLS_KEY="_swb_consent_",t.CACHED_CONSENT_TTL=300,t.PUBLIC_CONSENT_TTL=3456e4,t.KEYBOARD_HANDLER_CACHE_KEYS={CTX_KEY:"_ketch_currentKeyboardCtx",LANYARD_DOM:"_ketch_lanyardRootDom",FOCUSABLE_ELEMS:"_ketch_focusableElems",MODAL_STACKS:"_ketch_modalStacks",SUB_EXPERIENCE_CTX:"_ketch_subExperienceCtx"}</code></p><p><code>802</code><code>;const d=(0,i.getDefaultCacher)(),l=new i.WebStorageCacher(window.localStorage,86400);function f(e){return window&amp;&amp;window[e]||localStorage&amp;&amp;localStorage.getItem(e)}</code></p><p><code>803</code><code>function p(e,t){localStorage&amp;&amp;(null===localStorage||void 0===localStorage||localStorage.setItem(e,t)),window&amp;&amp;(window[e]=t)}</code></p><p><code>804</code><code>t.getCachedConsent=function(e,n){return o.__awaiter(this,void 0,void 0,(function*(){const o={organizationCode:e.organizationCode,propertyCode:e.propertyCode,environmentCode:e.environmentCode,jurisdictionCode:e.jurisdictionCode,identities:e.identities,purposes:{}</code></p><p><code>805</code><code>,collectedAt:0}</code></p><p><code>806</code><code>;if(n.options&amp;&amp;"no-cache"===n.options["Cache-Control"])return o;const i=yield d.getItem(t.CACHED_CONSENT_KEY);if(!i)return o;if(0===Object.keys(i).length)return o;if(!i.collectedAt)return o;const r=i,s=yield l.getItem(t.CACHED_PROTOCOLS_KEY);return r.vendors=null==s?void 0:s.vendors,r.googleVendors=null==s?void 0:s.googleVendors,r.protocols=null==s?void 0:s.protocols,r}</code></p><p><code>807</code><code>))}</code></p><p><code>808</code><code>,t.setCachedConsent=function(e,n){return o.__awaiter(this,void 0,void 0,(function*(){if(!e||0===Object.keys(e).length)return;e.collectedAt=Math.floor(Date.now()/1e3);const o=Object.assign({}</code></p><p><code>809</code><code>,e);yield null==l?void 0:l.setItem(t.CACHED_PROTOCOLS_KEY,o),o.vendors=void 0,o.googleVendors=void 0,"protocols"in o&amp;&amp;(o.protocols=void 0),n.options&amp;&amp;"true"===n.options.cache_cookies_disabled||(yield null==d?void 0:d.setItem(t.CACHED_CONSENT_KEY,o))}</code></p><p><code>810</code><code>))}</code></p><p><code>811</code><code>,t.setPublicConsent=function(e,n){return o.__awaiter(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)return;const o={}</code></p><p><code>812</code><code>;if(n.purposes){for(const t of n.purposes){if(!Object.prototype.hasOwnProperty.call(e.purposes,t.code))continue;const n=e.purposes[t.code];let i="";"string"==typeof n?i="true"===n?"granted":"denied":n.allowed&amp;&amp;(i="true"===n.allowed?"granted":"denied"),0!=i.length&amp;&amp;(o[t.code]={status:i}</code></p><p><code>813</code><code>,t.canonicalPurposeCodes?o[t.code].canonicalPurposes=t.canonicalPurposeCodes:t.canonicalPurposeCode&amp;&amp;t.canonicalPurposeCode.length&gt;0&amp;&amp;(o[t.code].canonicalPurposes=[t.canonicalPurposeCode]))}</code></p><p><code>814</code><code>if(Object.keys(o).length&gt;0){const e=btoa(JSON.stringify(o));null===localStorage||void 0===localStorage||localStorage.setItem(t.PUBLIC_CONSENT_KEY_V1,e),(0,r.setCookie)(window,t.PUBLIC_CONSENT_KEY_V1,e,t.PUBLIC_CONSENT_TTL)}</code></p><p><code>815</code><code>}</code></p><p><code>816</code><code>}</code></p><p><code>817</code><code>))}</code></p><p><code>818</code><code>,t.getLanyardRoot=function(){if(window&amp;&amp;window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM])return window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM];{const e=document.getElementById(c.LANYARD_ID);return window&amp;&amp;(window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM]=e),e}</code></p><p><code>819</code><code>}</code></p><p><code>820</code><code>,t.getCachedNavNode=function(e,t={}</code></p><p><code>821</code><code>){const n=(0,s.wrapLogger)(a.default,"getCachedDomNode");if(!window&amp;&amp;!localStorage)return n.debug("missing storage options"),null;const o=f(e);return o?(0,u.decodeDataNav)(o):(n.debug("cache missing key: ",e),t.ifNull?(n.debug("populating cache"),p(e,t.ifNull),(0,u.decodeDataNav)(t.ifNull)):null)}</code></p><p><code>822</code><code>,t.setCachedNavNode=function(e,t){const n=(0,s.wrapLogger)(a.default,"setCachedNavNode"),o=t.src;o?p(e,o):n.debug(`Missing data nav encoding. Cannot cache ${e}</code></p><p><code>823</code><code>`)}</code></p><p><code>824</code><code>,t.clearCacheEntry=function(e){window&amp;&amp;(window[e]=void 0),localStorage&amp;&amp;localStorage.removeItem(e)}</code></p><p><code>825</code><code>,t.getCacheEntry=f,t.setCacheEntry=p}</code></p><p><code>826</code><code>,6092:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>827</code><code>),t.LANYARD_ID=t.EMPTY_CONSENT=void 0,t.default=Object.assign(Object.assign({}</code></p><p><code>828</code><code>,{CONSENT_EVENT:"consent",ENVIRONMENT_EVENT:"environment",FULFILLED_EVENT:"fulfilled",GEOIP_EVENT:"geoip",HANDLE_KEYBOARD_EVENT:"handleKeyboardEvent",HAS_CHANGED_EXPERIENCE_EVENT:"hasChangedExperience",HAS_SHOWN_EXPERIENCE_EVENT:"hasShownExperience",HIDE_EXPERIENCE_EVENT:"hideExperience",IDENTITIES_EVENT:"identities",IDENTITY_EVENT:"identity",JURISDICTION_EVENT:"jurisdiction",PROTOCOLS_EVENT:"protocols",REGION_INFO_EVENT:"regionInfo",RETURN_KEYBOARD_CONTROL:"returnKeyboardControl",RIGHT_INVOKED_EVENT:"rightInvoked",SHOW_CONSENT_EXPERIENCE_EVENT:"showConsentExperience",SHOW_PREFERENCE_EXPERIENCE_EVENT:"showPreferenceExperience",SHOW_PROGRESSIVE_EXPERIENCE_EVENT:"showProgressiveExperience",SHOW_EXPERIENCE_EVENT:"showExperience",SUBSCRIPTIONS_EVENT:"subscriptions",SUBSCRIPTION_CONFIG_EVENT:"subscriptionConfig",USER_CONSENT_UPDATED_EVENT:"userConsentUpdated",WILL_CHANGE_EXPERIENCE_EVENT:"willChangeExperience",WILL_SHOW_EXPERIENCE_EVENT:"willShowExperience"}</code></p><p><code>829</code><code>),{NONE:"none",ENV:"env",PRODUCTION:"production",REGION:"region",JURISDICTION:"jurisdiction",LANGUAGE:"lang",SHOW:"show",PREFERENCES_TAB:"preferences_tab",PREFERENCES_TABS:"preferences_tabs",CONSENT:"cd",PREFERENCES:"preferences",API_SERVER:"shoreline",API_SERVER_BASE_URL:"https://global.ketchcdn.com/web/v2",EXPERIENCE_VERSION:"experience_version"}</code></p><p><code>830</code><code>),t.EMPTY_CONSENT={purposes:{}</code></p><p><code>831</code><code>,vendors:[],googleVendors:[],protocols:{}</code></p><p><code>832</code><code>}</code></p><p><code>833</code><code>,t.LANYARD_ID="lanyard_root"}</code></p><p><code>834</code><code>,192:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>835</code><code>),t.default=function(){return window.dataLayer=window.dataLayer||[]}</code></p><p><code>836</code><code>}</code></p><p><code>837</code><code>,5834:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>838</code><code>),t.default={actionNotFoundError:e=&gt;new Error(`action "${e}</code></p><p><code>839</code><code>" not found`),expectedFunctionError:e=&gt;new Error(`action "${e}</code></p><p><code>840</code><code>" expected a function`),unrecognizedLocationError:new Error("unrecognized location"),noIdentitiesError:new Error("no identities"),noPurposesError:new Error("no purposes"),noEnvironmentError:new Error("no environment"),noJurisdictionError:new Error("no jurisdiction"),invalidConfigurationError:new Error("invalid configuration"),emptyConsentError:new Error("empty consent")}</code></p><p><code>841</code><code>}</code></p><p><code>842</code><code>,300:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>843</code><code>);const o=n(1635),i=o.__importDefault(n(6092)),r=o.__importDefault(n(3449));t.default=function(e){if(e.services){let t=e.services[i.default.API_SERVER];t.endsWith("/")&amp;&amp;(t=t.slice(0,-1));const n=r.default.get(i.default.EXPERIENCE_VERSION);return n&amp;&amp;(t.includes("v3")&amp;&amp;"old"===n?t=t.replace("v3","v2"):t.includes("v2")&amp;&amp;"new"===n&amp;&amp;(t=t.replace("v2","v3"))),t.endsWith("/web/v2")||t.endsWith("/web/v3")||(t+="/web/v2"),t}</code></p><p><code>844</code><code>return i.default.API_SERVER_BASE_URL}</code></p><p><code>845</code><code>}</code></p><p><code>846</code><code>,549:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>847</code><code>),t.Ketch=t.boot=void 0;const o=n(5926);Object.defineProperty(t,"Ketch",{enumerable:!0,get:function(){return o.Ketch}</code></p><p><code>848</code><code>}</code></p><p><code>849</code><code>);const i=n(8773);Object.defineProperty(t,"boot",{enumerable:!0,get:function(){return i.boot}</code></p><p><code>850</code><code>}</code></p><p><code>851</code><code>)}</code></p><p><code>852</code><code>,8347:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>853</code><code>);const o=n(1635),i=o.__importDefault(n(7931)),r=o.__importDefault(n(5250)),s=o.__importDefault(n(3004)),a=o.__importDefault(n(532)),c=o.__importStar(n(372)),u=o.__importDefault(n(2433));t.default=function(){var e;return o.__awaiter(this,void 0,void 0,(function*(){const t=window.semaphore||[],n=t.shift();if(!Array.isArray(n)||2!=n.length||"init"!=n[0])throw Error("ketch tag command queue is not configured correctly");const o=n[1];i.default.debug("init",o);const d=new r.default(o),l=yield d.build(),f=new s.default(l);for(;t.length&gt;0;)f.push(t.shift());window.semaphore.push=f.push.bind(f),window.semaphore.loaded=!0;const p=yield l.getConfig();if(null===(e=null===window||void 0===window?void 0:window.localStorage)||void 0===e?void 0:e.getItem("overrideConsent")){const e=new a.default(l,p);yield e.enableAllConsent()}</code></p><p><code>854</code><code>else yield l.getConsent();new c.default(l,c.TagsConfig,p).execute(),new u.default(l,p).execute()}</code></p><p><code>855</code><code>))}</code></p><p><code>856</code><code>}</code></p><p><code>857</code><code>,3044:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>858</code><code>),t.default=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}</code></p><p><code>859</code><code>}</code></p><p><code>860</code><code>,8705:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>861</code><code>),t.default=function(e){return!!(e&amp;&amp;e.constructor&amp;&amp;e.call&amp;&amp;e.apply)}</code></p><p><code>862</code><code>}</code></p><p><code>863</code><code>,2774:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>864</code><code>),t.default=function(e,...t){(window.semaphore=window.semaphore||[]).push([e,...t])}</code></p><p><code>865</code><code>}</code></p><p><code>866</code><code>,7262:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>867</code><code>),t.handleNavigation=t.navigateBannerTree=t.getBannerTree=t.navigateModalStacks=t.handleDisabledSwitches=t.getModalStacks=t.getStaticModalNodes=t.handleSelection=t.handleSubExperienceCaching=t.renderNavigation=t.clearCachedNodes=t.getArrowActionFromUserAgent=t.getUserAgent=void 0;const o=n(1635),i=n(5305),r=n(4835),s=n(9305),a=o.__importDefault(n(7931)),c=n(7296);t.getUserAgent=()=&gt;{const e=(0,i.wrapLogger)(a.default,"getUserAgent"),t=navigator.userAgent.toUpperCase();return Object.values(s.SupportedUserAgents).find((e=&gt;-1!==t.search(e)))||void e.debug(`Unsupported userAgent: ${t}</code></p><p><code>868</code><code>`)}</code></p><p><code>869</code><code>,t.getArrowActionFromUserAgent=e=&gt;{const n=(0,i.wrapLogger)(a.default,"getArrowActionFromUserAgent"),o=(0,t.getUserAgent)();if(!o)return n.debug(`Unknown userAgent: ${navigator.userAgent}</code></p><p><code>870</code><code>`),s.ArrowActions.UNKNOWN;const r=s.UserAgentHandlerMap[o];return r?r[e.keyCode]?r[e.keyCode]:(n.debug(`Unknown key: ${e.keyCode}</code></p><p><code>871</code><code>`),s.ArrowActions.UNKNOWN):(n.debug(`Misconfigured userAgent: ${o}</code></p><p><code>872</code><code>`),s.ArrowActions.UNKNOWN)}</code></p><p><code>873</code><code>,t.clearCachedNodes=()=&gt;{const e=(0,i.wrapLogger)(a.default,"clearCachedNodes");Object.values(r.KEYBOARD_HANDLER_CACHE_KEYS).forEach((t=&gt;{e.trace(`clearing ${t}</code></p><p><code>874</code><code>`),(0,r.clearCacheEntry)(t)}</code></p><p><code>875</code><code>))}</code></p><p><code>876</code><code>,t.renderNavigation=e=&gt;{const t=(0,i.wrapLogger)(a.default,"renderNavigation"),n=(0,r.getLanyardRoot)();if(!n)return void t.debug("missing lanyard root");const{prev:o,next:s}</code></p><p><code>877</code><code>=e;if(o){const e=n.querySelector(`[data-nav="${o.src}</code></p><p><code>878</code><code>"]`);e?e.blur():t.debug(`node not found: ${o.src}</code></p><p><code>879</code><code> -- ${o["nav-index"]}</code></p><p><code>880</code><code>`)}</code></p><p><code>881</code><code>if(s){const e=n.querySelector(`[data-nav="${s.src}</code></p><p><code>882</code><code>"]`);e?e.focus():t.debug(`node not found: ${s.src}</code></p><p><code>883</code><code> -- ${s["nav-index"]}</code></p><p><code>884</code><code>`)}</code></p><p><code>885</code><code>}</code></p><p><code>886</code><code>,t.handleSubExperienceCaching=(e,t)=&gt;{const n=(0,r.getCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);if(n||e.action!==s.LanyardItemActions.expand){if(e.action===s.LanyardItemActions.expand&amp;&amp;n===e.subExperience)(0,r.clearCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);else if(e.action===s.LanyardItemActions.switch&amp;&amp;n===e.subExperience){const e=t.find((e=&gt;e.subExperience===n&amp;&amp;e.action===s.LanyardItemActions.expand)),o=e&amp;&amp;(0,c.getDomNode)(e);o&amp;&amp;"function"==typeof o.click&amp;&amp;o.click(),(0,r.clearCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX)}</code></p><p><code>887</code><code>else if(n!==e.subExperience&amp;&amp;e.action===s.LanyardItemActions.expand){const o=t.find((e=&gt;e.subExperience===n&amp;&amp;e.action===s.LanyardItemActions.expand)),i=o&amp;&amp;(0,c.getDomNode)(o);i&amp;&amp;"function"==typeof i.click&amp;&amp;i.click(),(0,r.setCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX,e.subExperience)}</code></p><p><code>888</code><code>}</code></p><p><code>889</code><code>else(0,r.setCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX,e.subExperience)}</code></p><p><code>890</code><code>,t.handleSelection=(e=!0,n)=&gt;{const o=(0,i.wrapLogger)(a.default,"handleSelection"),s=(0,r.getCachedNavNode)(r.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY),u=(0,c.getDomNode)(s);s&amp;&amp;u&amp;&amp;"function"==typeof u.click?(e&amp;&amp;(0,t.clearCachedNodes)(),Array.isArray(n)&amp;&amp;s.subExperience&amp;&amp;(0,t.handleSubExperienceCaching)(s,n),u.click()):o.debug("Node missing or missing click fn",u)}</code></p><p><code>891</code><code>,t.getStaticModalNodes=e=&gt;{const t=(0,i.wrapLogger)(a.default,"getStaticModalNodes");if(0===e.length)return t.debug("no clickable nodes"),{topNodes:[]}</code></p><p><code>892</code><code>;const n=(0,c.safeJsonParse)((0,r.getCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.MODAL_STACKS));if(n&amp;&amp;Array.isArray(n.topNodes))return n;const o=e.filter((e=&gt;void 0===e.subExperience)).sort(((e,t)=&gt;e["nav-index"]-t["nav-index"]));t.trace("top nodes:",o);const u=e.filter((e=&gt;e.subExperience&amp;&amp;e.action===s.LanyardItemActions.expand)).sort(((e,t)=&gt;void 0===e.subExperience||void 0===t.subExperience?0:e.subExperience.localeCompare(t.subExperience)));t.trace("expand nodes:",u);const d=e.filter((e=&gt;e.subExperience&amp;&amp;e.action===s.LanyardItemActions.switch)).sort(((e,t)=&gt;void 0===e.subExperience||void 0===t.subExperience?0:e.subExperience.localeCompare(t.subExperience)));t.trace("switch nodes:",d);const l={expandNodes:u.length&gt;0?u:void 0,switchNodes:d.length&gt;0?d:void 0,topNodes:o}</code></p><p><code>893</code><code>;return(0,r.setCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.MODAL_STACKS,JSON.stringify(l)),l}</code></p><p><code>894</code><code>,t.getModalStacks=e=&gt;{const n=(0,i.wrapLogger)(a.default,"getModalStacks"),o=(0,t.getStaticModalNodes)(e);Array.isArray(o.topNodes)&amp;&amp;0!==o.topNodes.length||n.debug("Missing top nodes in the stack");const s=(0,r.getCacheEntry)(r.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);if(s){if(n.trace("existing subExperienceCtx:",s),!o.expandNodes||0===o.expandNodes.length)return n.debug(`missing expand nodes for ${s}</code></p><p><code>895</code><code>. Returning without subExperience`),o;const t=e.filter((e=&gt;e.subExperience===s)).sort(((e,t)=&gt;e["nav-index"]-t["nav-index"]));n.trace(`found ${t.length}</code></p><p><code>896</code><code> nodes in ${s}</code></p><p><code>897</code><code>`);const i=o.expandNodes.findIndex((e=&gt;e.subExperience===s));if(-1===i)return n.debug(`Expand nodes missing for ${s}</code></p><p><code>898</code><code>. Returning stacks without subExperience`),o;o.expandNodes=[...o.expandNodes.slice(0,i),...t,...o.expandNodes.slice(i+1)],n.trace("updating expand nodes",o.expandNodes)}</code></p><p><code>899</code><code>return o}</code></p><p><code>900</code><code>,t.handleDisabledSwitches=(e,t)=&gt;{if(e.action===s.LanyardItemActions.switch&amp;&amp;e.disabled){const n=null==t?void 0:t.find((t=&gt;t.subExperience===e.subExperience));if(n)return n}</code></p><p><code>901</code><code>return e}</code></p><p><code>902</code><code>,t.navigateModalStacks=(e,n,o)=&gt;{var c,u,d;const l=(0,i.wrapLogger)(a.default,"navigateModalStacks");if(!e||!e.topNodes||!(null===(c=e.topNodes)||void 0===c?void 0:c.length))return l.debug("no top nodes found in the modal"),null;if(null===o)return l.debug(`Defaulting first selection to node: ${e.topNodes[0]}</code></p><p><code>903</code><code>`),e.topNodes[0];const f=o.action,p=f===s.LanyardItemActions.switch?e.switchNodes:f===s.LanyardItemActions.expand||o.subExperience?e.expandNodes:e.topNodes;if(!p)return l.debug("Storage inconsistent"),null;l.trace("activeStack:",p);const h=p.findIndex((e=&gt;e.src===o.src));l.trace(`moving ${n}</code></p><p><code>904</code><code> from index ${h}</code></p><p><code>905</code><code>`);let _=null;switch(n){case s.ArrowActions.UP:if(0===h){if(f===s.LanyardItemActions.expand||f===s.LanyardItemActions.switch){_=e.topNodes[e.topNodes.length-1];break}</code></p><p><code>906</code><code>{const t=e.switchNodes||e.expandNodes;_=t&amp;&amp;t.length&gt;0?t[t.length-1]:null;break}</code></p><p><code>907</code><code>}</code></p><p><code>908</code><code>_=p[h-1];break;case s.ArrowActions.DOWN:if(h===p.length-1){if(f===s.LanyardItemActions.expand||f===s.LanyardItemActions.switch){_=e.topNodes[0];break}</code></p><p><code>909</code><code>{const t=e.switchNodes||e.expandNodes;_=t&amp;&amp;t.length&gt;0?t[0]:null;break}</code></p><p><code>910</code><code>}</code></p><p><code>911</code><code>_=p[h+1];break;case s.ArrowActions.LEFT:f===s.LanyardItemActions.switch&amp;&amp;(_=null===(u=e.expandNodes)||void 0===u?void 0:u.find((e=&gt;e.subExperience===o.subExperience)));break;case s.ArrowActions.RIGHT:f===s.LanyardItemActions.expand&amp;&amp;(_=null===(d=e.switchNodes)||void 0===d?void 0:d.find((e=&gt;e.subExperience===o.subExperience)));break;case s.ArrowActions.OK:const n=o.action===s.LanyardItemActions.confirm||o.action===s.LanyardItemActions.close||o.action===s.LanyardItemActions.back||Boolean(o.clearCache);(0,t.handleSelection)(n,e.expandNodes);break;case s.ArrowActions.BACK:const i=e.topNodes.find((e=&gt;e.action===s.LanyardItemActions.back));i&amp;&amp;((0,r.setCachedNavNode)(r.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY,i),(0,t.handleSelection)(!0));break;default:return null}</code></p><p><code>912</code><code>return _?(0,t.handleDisabledSwitches)(_,e.expandNodes):null}</code></p><p><code>913</code><code>,t.getBannerTree=e=&gt;{const t=(0,i.wrapLogger)(a.default,"getBannerTree");if(0===e.length)return t.debug("no clickable nodes"),[];const n=e.sort(((e,t)=&gt;e["nav-index"]-t["nav-index"]));return t.debug(n),n}</code></p><p><code>914</code><code>,t.navigateBannerTree=(e,n,o)=&gt;{const r=(0,i.wrapLogger)(a.default,"navigateBannerTree");if(null===o)return r.debug(`Defaulting first selection to node: ${e[0]}</code></p><p><code>915</code><code>`),e[0];const c=e.findIndex((e=&gt;e.src===o.src));switch(r.debug("Starting at: ",c),n){case s.ArrowActions.UP:case s.ArrowActions.LEFT:return 0===c?(r.debug("Cannot move past last node"),null):e[c-1];case s.ArrowActions.RIGHT:case s.ArrowActions.DOWN:return c===e.length-1?(r.debug("Cannot move beyond first node"),null):e[c+1];case s.ArrowActions.OK:return(0,t.handleSelection)(!0),null;case s.ArrowActions.BACK:return r.trace("cannot back out of banner"),null;default:return r.debug("Unknown arrowAction: ",n),null}</code></p><p><code>916</code><code>}</code></p><p><code>917</code><code>,t.handleNavigation=e=&gt;{const n=(0,i.wrapLogger)(a.default,"handleNavigation");n.debug("Navigating ",e);const o=(0,r.getLanyardRoot)();if(null===o)return n.debug("Cannot find lanyard root"),null;if(!(o instanceof HTMLElement))return n.debug("Storage inconsistent"),null;const u=o.querySelectorAll("[data-nav]");if(!u||0===u.length)return n.debug("No tagged DOM nodes found"),null;const d=[];u.forEach((e=&gt;{const t=(0,c.decodeDataNav)(e.dataset.nav||"");null!==t&amp;&amp;d.push(t)}</code></p><p><code>918</code><code>)),d.length!==u.length?n.debug("inconsistent encoding of data-nav"):window.decodedNodes=d;let l=null;const f=d[0].experience,p=(0,r.getCachedNavNode)(r.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY);if(f===s.EXPERIENCES.BANNER){const n=(0,t.getBannerTree)(d);l=(0,t.navigateBannerTree)(n,e,p)}</code></p><p><code>919</code><code>else if(f===s.EXPERIENCES.MODAL){const n=(0,t.getModalStacks)(d);l=(0,t.navigateModalStacks)(n,e,p)}</code></p><p><code>920</code><code>else n.debug(`unhandled experience ${f}</code></p><p><code>921</code><code>`);return l&amp;&amp;(n.debug("Updating cached context node: ",l),(0,r.setCachedNavNode)(r.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY,l)),{prev:p,next:l}</code></p><p><code>922</code><code>}</code></p><p><code>923</code><code>,t.default=function(e,n){const o=(0,i.wrapLogger)(a.default,"onKeyPress"),r="string"==typeof e?e:(0,t.getArrowActionFromUserAgent)(e);if(o.debug("Processing movement: ",r),r===s.ArrowActions.UNKNOWN){const i="string"==typeof e?e:e.keyCode;o.error(`Unknown input: ${i}</code></p><p><code>924</code><code>`),o.debug("returning keyboard control"),(0,t.clearCachedNodes)(),n()}</code></p><p><code>925</code><code>else{const e=(0,t.handleNavigation)(r);e?(0,t.renderNavigation)(e):(o.debug("returning keyboard control"),(0,t.clearCachedNodes)(),n())}</code></p><p><code>926</code><code>}</code></p><p><code>927</code><code>}</code></p><p><code>928</code><code>,9305:(e,t)=&gt;{"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>929</code><code>),t.UserAgentHandlerMap=t.SupportedUserAgents=t.LanyardItemActions=t.EXPERIENCES=t.ArrowActions=void 0,function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.BACK="BACK",e.OK="OK",e.UNKNOWN="UNKNOWN"}</code></p><p><code>930</code><code>(n=t.ArrowActions||(t.ArrowActions={}</code></p><p><code>931</code><code>)),t.EXPERIENCES={BANNER:"ketch-consent-banner",MODAL:"ketch-purpose-modal",PREFERENCES:"ketch-preferences"}</code></p><p><code>932</code><code>,(i=t.LanyardItemActions||(t.LanyardItemActions={}</code></p><p><code>933</code><code>)).back="back",i.close="close",i.confirm="confirm",i.expand="expand",i.switch="switch",function(e){e.TIZEN="TIZEN",e.MACINTOSH="MACINTOSH"}</code></p><p><code>934</code><code>(o=t.SupportedUserAgents||(t.SupportedUserAgents={}</code></p><p><code>935</code><code>));const r={37:n.LEFT,38:n.UP,39:n.RIGHT,40:n.DOWN,13:n.OK,10009:n.BACK}</code></p><p><code>936</code><code>,s={37:n.LEFT,38:n.UP,39:n.RIGHT,40:n.DOWN,13:n.OK,27:n.BACK}</code></p><p><code>937</code><code>;t.UserAgentHandlerMap={[o.TIZEN]:r,[o.MACINTOSH]:s}</code></p><p><code>938</code><code>}</code></p><p><code>939</code><code>,7931:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>940</code><code>);const o=n(5305);let i=(0,o.getLogLevel)((0,o.getParams)(window.location.search,["ketch_","swb_"]));t.default=(0,o.getLogger)("ketch",i)}</code></p><p><code>941</code><code>,3449:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>942</code><code>);const o=(0,n(5305).getParams)(window.location.search,["ketch_","swb_"]);t.default=o}</code></p><p><code>943</code><code>,7296:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>944</code><code>),t.santizePaths=t.getDomNode=t.decodeDataNav=t.safeJsonParse=void 0;const o=n(1635),i=n(5305),r=o.__importDefault(n(7931)),s=n(4835);function a(e){const t=(0,i.wrapLogger)(r.default,"safeJsonParse");if(!e||""===e.trim())return{}</code></p><p><code>945</code><code>;try{return JSON.parse(e)}</code></p><p><code>946</code><code>catch(n){return t.error(`Could not parse JSON for ${e}</code></p><p><code>947</code><code> - ${n}</code></p><p><code>948</code><code>`),null}</code></p><p><code>949</code><code>}</code></p><p><code>950</code><code>t.safeJsonParse=a,t.decodeDataNav=function(e){const t=(0,i.wrapLogger)(r.default,"decodeDataNav");let n="";try{n=window.atob(e)}</code></p><p><code>951</code><code>catch(n){return t.debug(`Invalid encoding: ${e}</code></p><p><code>952</code><code>`,n),null}</code></p><p><code>953</code><code>const o=a(n);return"[object Object]"!==Object.prototype.toString.call(o)?null:(o.src=e,o)}</code></p><p><code>954</code><code>,t.getDomNode=function(e){const t=(0,i.wrapLogger)(r.default,"convertToKetchHTMLElement");if(!e||!e.src)return t.debug("node missing src",e),null;const n=`[data-nav="${e.src}</code></p><p><code>955</code><code>"]`,o=(0,s.getLanyardRoot)();return o?o.querySelector(n):(t.debug("missing lanyard root"),null)}</code></p><p><code>956</code><code>,t.santizePaths=function(e){return(0,i.wrapLogger)(r.default,"santizePaths").debug(`is path ${e}</code></p><p><code>957</code><code> sane: `,/[^a-zA-Z0-9_-]/.test(e)),e.replace(/[^a-zA-Z0-9_-]/g,"")}</code></p><p><code>958</code><code>}</code></p><p><code>959</code><code>,4999:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>960</code><code>),t.KetchWebAPI=void 0;const o=n(1635);class i{constructor(e,t){this._baseUrl=e,this._fetch=t||n.g.fetch.bind(window)}</code></p><p><code>961</code><code>getLocation(){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.get("/ip")}</code></p><p><code>962</code><code>))}</code></p><p><code>963</code><code>getBootstrapConfiguration(e){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.get(`/config/${e.organizationCode}</code></p><p><code>964</code><code>/${e.propertyCode}</code></p><p><code>965</code><code>/boot.json`)}</code></p><p><code>966</code><code>))}</code></p><p><code>967</code><code>getFullConfiguration(e){return o.__awaiter(this,void 0,void 0,(function*(){let t="";return this._baseUrl.includes("web/v3")?(e.environmentCode&amp;&amp;e.jurisdictionCode&amp;&amp;e.languageCode&amp;&amp;(t=`/${e.environmentCode}</code></p><p><code>968</code><code>/${e.jurisdictionCode}</code></p><p><code>969</code><code>/${e.languageCode}</code></p><p><code>970</code><code>`),yield this.get(`/config/${e.organizationCode}</code></p><p><code>971</code><code>/${e.propertyCode}</code></p><p><code>972</code><code>${t}</code></p><p><code>973</code><code>/config.json${e.hash?`?hash=${e.hash}</code></p><p><code>974</code><code>`:""}</code></p><p><code>975</code><code>`)):(e.environmentCode&amp;&amp;e.hash&amp;&amp;e.jurisdictionCode&amp;&amp;e.languageCode&amp;&amp;(t=`/${e.environmentCode}</code></p><p><code>976</code><code>/${e.hash}</code></p><p><code>977</code><code>/${e.jurisdictionCode}</code></p><p><code>978</code><code>/${e.languageCode}</code></p><p><code>979</code><code>`),yield this.get(`/config/${e.organizationCode}</code></p><p><code>980</code><code>/${e.propertyCode}</code></p><p><code>981</code><code>${t}</code></p><p><code>982</code><code>/config.json`))}</code></p><p><code>983</code><code>))}</code></p><p><code>984</code><code>getSubscriptionsConfiguration(e){return o.__awaiter(this,void 0,void 0,(function*(){const{organizationCode:t,propertyCode:n,languageCode:o,experienceCode:i}</code></p><p><code>985</code><code>=e;return yield this.get(`/config/${t}</code></p><p><code>986</code><code>/${n}</code></p><p><code>987</code><code>/${o}</code></p><p><code>988</code><code>/${i}</code></p><p><code>989</code><code>/subscriptions.json`)}</code></p><p><code>990</code><code>))}</code></p><p><code>991</code><code>getConsentConfiguration({organizationCode:e,propertyCode:t,envCode:n,jurisdictionCode:i,langCode:r,hash:s}</code></p><p><code>992</code><code>){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.get(`/config/${e}</code></p><p><code>993</code><code>/${t}</code></p><p><code>994</code><code>/${n}</code></p><p><code>995</code><code>/${i}</code></p><p><code>996</code><code>/${r}</code></p><p><code>997</code><code>/consent.json${s?`?hash=${s}</code></p><p><code>998</code><code>`:""}</code></p><p><code>999</code><code>`)}</code></p><p><code>1000</code><code>))}</code></p><p><code>1001</code><code>getPreferenceConfiguration({organizationCode:e,propertyCode:t,envCode:n,jurisdictionCode:i,langCode:r,hash:s}</code></p><p><code>1002</code><code>){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.get(`/config/${e}</code></p><p><code>1003</code><code>/${t}</code></p><p><code>1004</code><code>/${n}</code></p><p><code>1005</code><code>/${i}</code></p><p><code>1006</code><code>/${r}</code></p><p><code>1007</code><code>/preference.json${s?`?hash=${s}</code></p><p><code>1008</code><code>`:""}</code></p><p><code>1009</code><code>`)}</code></p><p><code>1010</code><code>))}</code></p><p><code>1011</code><code>getConsent(e){return o.__awaiter(this,void 0,void 0,(function*(){try{const t=yield this.post(`/consent/${e.organizationCode}</code></p><p><code>1012</code><code>/get`,e);return t&amp;&amp;t.purposes&amp;&amp;Object.keys(t.purposes).length?t:e}</code></p><p><code>1013</code><code>catch(t){return e}</code></p><p><code>1014</code><code>}</code></p><p><code>1015</code><code>))}</code></p><p><code>1016</code><code>setConsent(e){return o.__awaiter(this,void 0,void 0,(function*(){try{const t=yield this.post(`/consent/${e.organizationCode}</code></p><p><code>1017</code><code>/update`,e);return t&amp;&amp;t.purposes&amp;&amp;Object.keys(t.purposes).length?t:e}</code></p><p><code>1018</code><code>catch(t){return e}</code></p><p><code>1019</code><code>}</code></p><p><code>1020</code><code>))}</code></p><p><code>1021</code><code>getSubscriptions(e){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.post(`/subscriptions/${e.organizationCode}</code></p><p><code>1022</code><code>/get`,e)}</code></p><p><code>1023</code><code>))}</code></p><p><code>1024</code><code>setSubscriptions(e){return o.__awaiter(this,void 0,void 0,(function*(){yield this.post(`/subscriptions/${e.organizationCode}</code></p><p><code>1025</code><code>/update`,e)}</code></p><p><code>1026</code><code>))}</code></p><p><code>1027</code><code>invokeRight(e){return o.__awaiter(this,void 0,void 0,(function*(){return this.post(`/rights/${e.organizationCode}</code></p><p><code>1028</code><code>/invoke`,e)}</code></p><p><code>1029</code><code>))}</code></p><p><code>1030</code><code>preferenceQR(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=new URL(`${this._baseUrl}</code></p><p><code>1031</code><code>/qr/${e.organizationCode}</code></p><p><code>1032</code><code>/${e.propertyCode}</code></p><p><code>1033</code><code>/preferences.png`);return e.environmentCode&amp;&amp;t.searchParams.set("env",e.environmentCode),e.imageSize&amp;&amp;t.searchParams.set("size",e.imageSize.toString()),e.path&amp;&amp;t.searchParams.set("path",e.path),e.backgroundColor&amp;&amp;t.searchParams.set("bgcolor",e.backgroundColor),e.foregroundColor&amp;&amp;t.searchParams.set("fgcolor",e.foregroundColor),Object.keys(e.parameters).forEach((n=&gt;{t.searchParams.set(n,e.parameters[n])}</code></p><p><code>1034</code><code>)),t.toString()}</code></p><p><code>1035</code><code>))}</code></p><p><code>1036</code><code>webReport(e,t){return o.__awaiter(this,void 0,void 0,(function*(){yield this.post(`/report/${e}</code></p><p><code>1037</code><code>`,t)}</code></p><p><code>1038</code><code>))}</code></p><p><code>1039</code><code>get(e){return o.__awaiter(this,void 0,void 0,(function*(){return this._fetch(this._baseUrl+e,i.fetchOptions("GET")).then((e=&gt;e.json()))}</code></p><p><code>1040</code><code>))}</code></p><p><code>1041</code><code>post(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const n=yield this._fetch(this._baseUrl+e,i.fetchOptions("POST",t));if(!n.ok)throw new Error(yield n.text());return n.json()}</code></p><p><code>1042</code><code>))}</code></p><p><code>1043</code><code>static fetchOptions(e,t){const n={method:e,mode:"cors",credentials:"omit"}</code></p><p><code>1044</code><code>,o="application/json";return t?(n.body=JSON.stringify(t),n.headers={Accept:o,"Content-Type":o}</code></p><p><code>1045</code><code>):n.headers={Accept:o}</code></p><p><code>1046</code><code>,n}</code></p><p><code>1047</code><code>}</code></p><p><code>1048</code><code>t.KetchWebAPI=i}</code></p><p><code>1049</code><code>,3165:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1050</code><code>),t.default=function(e){return e.map((e=&gt;{try{return window.atob(decodeURIComponent(e))}</code></p><p><code>1051</code><code>catch(t){return e}</code></p><p><code>1052</code><code>}</code></p><p><code>1053</code><code>))}</code></p><p><code>1054</code><code>}</code></p><p><code>1055</code><code>,5962:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1056</code><code>),t.encoding=void 0;const o=n(1635).__importDefault(n(3165));t.encoding=o.default}</code></p><p><code>1057</code><code>,4080:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1058</code><code>);const o=n(1635),i=n(4615),r=o.__importDefault(n(7029));t.default=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];const n=(0,i.getCookie)(e,t);return n&amp;&amp;"0"!==n?[n]:(0,r.default)(e,`ketch_${t}</code></p><p><code>1059</code><code>`)}</code></p><p><code>1060</code><code>))}</code></p><p><code>1061</code><code>}</code></p><p><code>1062</code><code>,7111:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1063</code><code>),t.setCookie=t.getCookie=t.fetcher=void 0;const o=n(1635).__importDefault(n(4080));t.fetcher=o.default;const i=n(4615);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return i.getCookie}</code></p><p><code>1064</code><code>}</code></p><p><code>1065</code><code>),Object.defineProperty(t,"setCookie",{enumerable:!0,get:function(){return i.setCookie}</code></p><p><code>1066</code><code>}</code></p><p><code>1067</code><code>)}</code></p><p><code>1068</code><code>,4615:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1069</code><code>),t.setCookie=t.getCookie=void 0;const o=n(835);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return o.getCookie}</code></p><p><code>1070</code><code>}</code></p><p><code>1071</code><code>),t.setCookie=function(e,t,n,i){(0,o.setCookie)(e,t,n,i?86400*i:i)}</code></p><p><code>1072</code><code>}</code></p><p><code>1073</code><code>,725:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1074</code><code>);const o=n(1635);t.default=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){if(!e||!e.dataLayer||0===t.length)return[];let n=[];for(const o of e.dataLayer)if(Object.prototype.hasOwnProperty.call(o,t)){const e=o[t];e&amp;&amp;"0"!==e&amp;&amp;(n=n.concat(e))}</code></p><p><code>1075</code><code>return n}</code></p><p><code>1076</code><code>))}</code></p><p><code>1077</code><code>}</code></p><p><code>1078</code><code>,2302:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1079</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(725));t.fetcher=o.default}</code></p><p><code>1080</code><code>,9220:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1081</code><code>),t.semicolonStructure=t.queryStructure=t.jwtStructure=t.jsonStructure=t.stringStructure=t.managedFetcher=t.queryStringFetcher=t.sessionStorageFetcher=t.localStorageFetcher=t.windowFetcher=t.dataLayerFetcher=t.setCookie=t.getCookie=t.cookieFetcher=void 0;const o=n(1635),i=n(7111);Object.defineProperty(t,"cookieFetcher",{enumerable:!0,get:function(){return i.fetcher}</code></p><p><code>1082</code><code>}</code></p><p><code>1083</code><code>),Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return i.getCookie}</code></p><p><code>1084</code><code>}</code></p><p><code>1085</code><code>),Object.defineProperty(t,"setCookie",{enumerable:!0,get:function(){return i.setCookie}</code></p><p><code>1086</code><code>}</code></p><p><code>1087</code><code>);const r=n(2302);Object.defineProperty(t,"dataLayerFetcher",{enumerable:!0,get:function(){return r.fetcher}</code></p><p><code>1088</code><code>}</code></p><p><code>1089</code><code>);const s=n(3841);Object.defineProperty(t,"windowFetcher",{enumerable:!0,get:function(){return s.fetcher}</code></p><p><code>1090</code><code>}</code></p><p><code>1091</code><code>);const a=n(3861);Object.defineProperty(t,"localStorageFetcher",{enumerable:!0,get:function(){return a.fetcher}</code></p><p><code>1092</code><code>}</code></p><p><code>1093</code><code>);const c=n(6944);Object.defineProperty(t,"sessionStorageFetcher",{enumerable:!0,get:function(){return c.fetcher}</code></p><p><code>1094</code><code>}</code></p><p><code>1095</code><code>);const u=n(4334);Object.defineProperty(t,"queryStringFetcher",{enumerable:!0,get:function(){return u.fetcher}</code></p><p><code>1096</code><code>}</code></p><p><code>1097</code><code>);const d=n(9694);Object.defineProperty(t,"managedFetcher",{enumerable:!0,get:function(){return d.fetcher}</code></p><p><code>1098</code><code>}</code></p><p><code>1099</code><code>);const l=n(164);Object.defineProperty(t,"stringStructure",{enumerable:!0,get:function(){return l.structure}</code></p><p><code>1100</code><code>}</code></p><p><code>1101</code><code>);const f=n(659);Object.defineProperty(t,"jsonStructure",{enumerable:!0,get:function(){return f.structure}</code></p><p><code>1102</code><code>}</code></p><p><code>1103</code><code>);const p=n(7510);Object.defineProperty(t,"jwtStructure",{enumerable:!0,get:function(){return p.structure}</code></p><p><code>1104</code><code>}</code></p><p><code>1105</code><code>);const h=n(4334);Object.defineProperty(t,"queryStructure",{enumerable:!0,get:function(){return h.structure}</code></p><p><code>1106</code><code>}</code></p><p><code>1107</code><code>);const _=n(4774);Object.defineProperty(t,"semicolonStructure",{enumerable:!0,get:function(){return _.structure}</code></p><p><code>1108</code><code>}</code></p><p><code>1109</code><code>);const g=o.__importDefault(n(1031));t.default=g.default}</code></p><p><code>1110</code><code>,659:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1111</code><code>),t.structure=void 0;const o=n(1635).__importDefault(n(5062));t.structure=o.default}</code></p><p><code>1112</code><code>,5062:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1113</code><code>),t.default=function(e){if("object"==typeof e&amp;&amp;!Array.isArray(e)&amp;&amp;null!==e)return e;const t=JSON.parse(e);return"object"!=typeof t||Array.isArray(t)||null===t?{value:t}</code></p><p><code>1114</code><code>:t}</code></p><p><code>1115</code><code>}</code></p><p><code>1116</code><code>,7510:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1117</code><code>),t.structure=void 0;const o=n(1635).__importDefault(n(2971));t.structure=o.default}</code></p><p><code>1118</code><code>,2971:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1119</code><code>),t.default=function(e){const t=e.split(".")[1],n=atob(t);return JSON.parse(n)}</code></p><p><code>1120</code><code>}</code></p><p><code>1121</code><code>,206:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1122</code><code>);const o=n(6590);t.default=(0,o.fetcher)("localStorage")}</code></p><p><code>1123</code><code>,3861:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1124</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(206));t.fetcher=o.default}</code></p><p><code>1125</code><code>,9573:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1126</code><code>);const o=n(1635),i=n(835),r=n(2831);t.default=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];t="_swb";let n=(0,i.getCookie)(e,t);return n?[n]:((0,i.setCookie)(e,t,(0,r.v4)(),63072e3),n=(0,i.getCookie)(e,t),n?[n]:[])}</code></p><p><code>1127</code><code>))}</code></p><p><code>1128</code><code>}</code></p><p><code>1129</code><code>,9694:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1130</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(9573));t.fetcher=o.default}</code></p><p><code>1131</code><code>,9528:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1132</code><code>),t.default=function(e){return e}</code></p><p><code>1133</code><code>}</code></p><p><code>1134</code><code>,2193:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1135</code><code>),t.encoding=void 0;const o=n(1635).__importDefault(n(9528));t.encoding=o.default}</code></p><p><code>1136</code><code>,7029:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1137</code><code>);const o=n(1635);t.default=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){return e&amp;&amp;e.location&amp;&amp;0!==e.location.search.length&amp;&amp;0!==t.length?new URLSearchParams(e.location.search).getAll(t).filter((e=&gt;"0"!==e)):[]}</code></p><p><code>1138</code><code>))}</code></p><p><code>1139</code><code>}</code></p><p><code>1140</code><code>,4334:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1141</code><code>),t.structure=t.fetcher=void 0;const o=n(1635),i=o.__importDefault(n(7029));t.fetcher=i.default;const r=o.__importDefault(n(3091));t.structure=r.default}</code></p><p><code>1142</code><code>,3091:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1143</code><code>),t.default=function(e){const t={}</code></p><p><code>1144</code><code>;for(const[n,o]of new URLSearchParams(e).entries())t[n]=o;return t}</code></p><p><code>1145</code><code>}</code></p><p><code>1146</code><code>,4774:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1147</code><code>),t.structure=void 0;const o=n(1635).__importDefault(n(955));t.structure=o.default}</code></p><p><code>1148</code><code>,955:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1149</code><code>),t.default=function(e){const t=e.split(";").map((e=&gt;e.trim().split("="))),n={}</code></p><p><code>1150</code><code>;for(const[e,o]of t)n[decodeURIComponent(e)]=decodeURIComponent(o);return n}</code></p><p><code>1151</code><code>}</code></p><p><code>1152</code><code>,5063:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1153</code><code>);const o=n(6590);t.default=(0,o.fetcher)("sessionStorage")}</code></p><p><code>1154</code><code>,6944:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1155</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(5063));t.fetcher=o.default}</code></p><p><code>1156</code><code>,1669:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1157</code><code>);const o=n(1635);t.default=function(e){return function(t,n){return o.__awaiter(this,void 0,void 0,(function*(){if(!t||0===n.length)return[];try{const o=("localStorage"===e?t.localStorage:t.sessionStorage).getItem(n);return o&amp;&amp;"0"!==o?[o]:[]}</code></p><p><code>1158</code><code>catch(e){return[]}</code></p><p><code>1159</code><code>}</code></p><p><code>1160</code><code>))}</code></p><p><code>1161</code><code>}</code></p><p><code>1162</code><code>}</code></p><p><code>1163</code><code>,6590:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1164</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(1669));t.fetcher=o.default}</code></p><p><code>1165</code><code>,164:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1166</code><code>),t.structure=void 0;const o=n(1635).__importDefault(n(8805));t.structure=o.default}</code></p><p><code>1167</code><code>,8805:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1168</code><code>),t.default=function(e){return{value:e}</code></p><p><code>1169</code><code>}</code></p><p><code>1170</code><code>}</code></p><p><code>1171</code><code>,1031:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1172</code><code>);const o=n(1635),i=n(7007),r=n(8509),s=n(7111),a=n(2302),c=n(3841),u=n(3861),d=n(6944),l=n(4334),f=n(9694),p=n(164),h=n(659),_=n(7510),g=n(4334),v=n(4774),E=n(5962),y=n(2193),b=o.__importDefault(n(9207)),m=(0,n(5305).getLogger)("identity");t.default=class{constructor(e,t={}</code></p><p><code>1173</code><code>){this._emitter=new i.EventEmitter,this._w=e,this._listenerOptions=t,this._fetchers=new Map,this._identities={}</code></p><p><code>1174</code><code>}</code></p><p><code>1175</code><code>add(e,t){let n,o;if("function"==typeof t)return void this._fetchers.set(e,(()=&gt;t()));switch(t.format){case r.IdentityFormat.IDENTITY_FORMAT_JSON:n=h.structure;break;case r.IdentityFormat.IDENTITY_FORMAT_JWT:n=_.structure;break;case r.IdentityFormat.IDENTITY_FORMAT_QUERY:n=g.structure;break;case r.IdentityFormat.IDENTITY_FORMAT_SEMICOLON:n=v.structure;break;default:n=p.structure}</code></p><p><code>1176</code><code>const i=t.key||"value";switch(o=t.encoding===r.IdentityEncoding.IDENTITY_ENCODING_BASE64?E.encoding:y.encoding,t.type){case r.IdentityType.IDENTITY_TYPE_COOKIE:this._fetchers.set(e,(e=&gt;(0,s.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_DATA_LAYER:this._fetchers.set(e,(e=&gt;(0,a.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_WINDOW:this._fetchers.set(e,(e=&gt;(0,c.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_LOCAL_STORAGE:this._fetchers.set(e,(e=&gt;(0,u.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_SESSION_STORAGE:this._fetchers.set(e,(e=&gt;(0,d.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_QUERY_STRING:this._fetchers.set(e,(e=&gt;(0,l.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;case r.IdentityType.IDENTITY_TYPE_MANAGED:this._fetchers.set(e,(e=&gt;(0,f.fetcher)(e,t.variable).then((e=&gt;o(e).map(n).map((e=&gt;String(e[i])))))));break;default:throw new Error(`unsupported identity type ${t.type}</code></p><p><code>1177</code><code> for ${e}</code></p><p><code>1178</code><code>`)}</code></p><p><code>1179</code><code>}</code></p><p><code>1180</code><code>start(){return o.__awaiter(this,void 0,void 0,(function*(){if(!this._intervalId)return this._listenerOptions.interval&amp;&amp;(this._intervalId=this._w.setInterval(this.notify.bind(this),this._listenerOptions.interval),this._listenerOptions.timeout&amp;&amp;this._w.setTimeout(this.stop.bind(this),this._listenerOptions.timeout)),this.notify()}</code></p><p><code>1181</code><code>))}</code></p><p><code>1182</code><code>stop(){this._intervalId&amp;&amp;(this._w.clearInterval(this._intervalId),this._intervalId=void 0)}</code></p><p><code>1183</code><code>notify(){return o.__awaiter(this,void 0,void 0,(function*(){const e={}</code></p><p><code>1184</code><code>;for(const[t,n]of this._fetchers.entries())try{const o=yield n(this._w);for(const n of o)e[t]=n}</code></p><p><code>1185</code><code>catch(e){m.warn(`failed to fetch identity for ${t}</code></p><p><code>1186</code><code>: ${e}</code></p><p><code>1187</code><code>`)}</code></p><p><code>1188</code><code>(0,b.default)(e,this._identities)||(this._emitter.emit("identity",e),this._identities=e)}</code></p><p><code>1189</code><code>))}</code></p><p><code>1190</code><code>addListener(e,t){return this.on(e,t)}</code></p><p><code>1191</code><code>on(e,t){return this._emitter.on(e,t),this}</code></p><p><code>1192</code><code>once(e,t){return this._emitter.once(e,t),this}</code></p><p><code>1193</code><code>removeListener(e,t){return this.off(e,t)}</code></p><p><code>1194</code><code>off(e,t){return this._emitter.off(e,t),this}</code></p><p><code>1195</code><code>removeAllListeners(e){return this._emitter.removeAllListeners(e),this}</code></p><p><code>1196</code><code>}</code></p><p><code>1197</code><code>}</code></p><p><code>1198</code><code>,2706:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1199</code><code>);const o=n(1635);t.default=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];try{const n=function(e,t){const n=t.split(".");let o=e,i=null;for(;n.length&gt;0;)if("window"===n[0])n.shift();else if("object"==typeof o)"()"===n[0].slice(-2)?(i=o,o=o[n[0].slice(0,-2)]):(i=o,o=o[n.shift()]);else{if("function"!=typeof o)return null;{const e=o.call(i);i=o,o=e,n.shift()}</code></p><p><code>1200</code><code>}</code></p><p><code>1201</code><code>return o&amp;&amp;"string"!=typeof o&amp;&amp;(o=o.toString(),o.startsWith("[object"))?"":o}</code></p><p><code>1202</code><code>(e,t);return n&amp;&amp;"0"!==n?[n]:[]}</code></p><p><code>1203</code><code>catch(e){return[]}</code></p><p><code>1204</code><code>}</code></p><p><code>1205</code><code>))}</code></p><p><code>1206</code><code>}</code></p><p><code>1207</code><code>,3841:(e,t,n)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1208</code><code>),t.fetcher=void 0;const o=n(1635).__importDefault(n(2706));t.fetcher=o.default}</code></p><p><code>1209</code><code>,5305:function(e,t,n){"use strict";var o=this&amp;&amp;this.__importDefault||function(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>1210</code><code>}</code></p><p><code>1211</code><code>;Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1212</code><code>),t.getLogLevel=t.getLogger=t.wrapLogger=t.getParams=t.DEFAULT_LOG_LEVEL=void 0;const i=o(n(9343));t.DEFAULT_LOG_LEVEL="warn";const r={trace:1,debug:2,info:3,warn:4,error:5,log:6}</code></p><p><code>1213</code><code>,s=()=&gt;{}</code></p><p><code>1214</code><code>;function a(e=window.location.search,t=["ketch_","swb_"]){return new i.default(e,t)}</code></p><p><code>1215</code><code>function c(e,t){const n=`[${t}</code></p><p><code>1216</code><code>]`;return{trace:(...t)=&gt;{e.trace(n,...t)}</code></p><p><code>1217</code><code>,debug:(...t)=&gt;{e.debug(n,...t)}</code></p><p><code>1218</code><code>,info:(...t)=&gt;{e.info(n,...t)}</code></p><p><code>1219</code><code>,log:(...t)=&gt;{e.log(n,...t)}</code></p><p><code>1220</code><code>,warn:(...t)=&gt;{e.warn(n,...t)}</code></p><p><code>1221</code><code>,error:(...t)=&gt;{e.error(n,...t)}</code></p><p><code>1222</code><code>}</code></p><p><code>1223</code><code>}</code></p><p><code>1224</code><code>function u(e=a()){const n=e.get("log");if(n&amp;&amp;n.length){const e=n.toLowerCase();if(e&amp;&amp;r[e])return e}</code></p><p><code>1225</code><code>else if(e.has("debug"))return"debug";return t.DEFAULT_LOG_LEVEL}</code></p><p><code>1226</code><code>t.getParams=a,t.wrapLogger=c,t.getLogger=function(e,t=u(a())){const o={log:n.g.console.log,error:n.g.console.error}</code></p><p><code>1227</code><code>;t=t.toString().toLowerCase();for(const e of Object.keys(r))o[e]="log"===e||r[e]&gt;=r[t]?"error"===e?o.error:o.log:s;return c(o,e)}</code></p><p><code>1228</code><code>,t.getLogLevel=u}</code></p><p><code>1229</code><code>,9343:(e,t)=&gt;{"use strict";Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1230</code><code>);class n extends URLSearchParams{constructor(e,t){super(e),this._prefixes=t}</code></p><p><code>1231</code><code>delete(e){for(const t of this._prefixes)super.delete(`${t}</code></p><p><code>1232</code><code>${e}</code></p><p><code>1233</code><code>`)}</code></p><p><code>1234</code><code>get(e){for(const t of this._prefixes){const n=super.get(`${t}</code></p><p><code>1235</code><code>${e}</code></p><p><code>1236</code><code>`);if(n)return n}</code></p><p><code>1237</code><code>return null}</code></p><p><code>1238</code><code>getAll(e){for(const t of this._prefixes)if(super.has(`${t}</code></p><p><code>1239</code><code>${e}</code></p><p><code>1240</code><code>`))return super.getAll(`${t}</code></p><p><code>1241</code><code>${e}</code></p><p><code>1242</code><code>`);return[]}</code></p><p><code>1243</code><code>has(e){for(const t of this._prefixes)if(super.has(`${t}</code></p><p><code>1244</code><code>${e}</code></p><p><code>1245</code><code>`))return!0;return!1}</code></p><p><code>1246</code><code>}</code></p><p><code>1247</code><code>t.default=n}</code></p><p><code>1248</code><code>,7586:(e,t)=&gt;{"use strict";var n,o,i,r;Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1249</code><code>),t.FormFieldVariant=t.FormFieldType=t.FormFieldCategory=t.FormFieldWidth=void 0,(r=t.FormFieldWidth||(t.FormFieldWidth={}</code></p><p><code>1250</code><code>)).UNSPECIFIED="unspecified",r.HALF="half",r.FULL="full",(i=t.FormFieldCategory||(t.FormFieldCategory={}</code></p><p><code>1251</code><code>)).UNSPECIFIED="unspecified",i.DEFAULT="default",i.CUSTOM="custom",(o=t.FormFieldType||(t.FormFieldType={}</code></p><p><code>1252</code><code>)).UNSPECIFIED="unspecified",o.TEXT="text",o.DROPDOWN="dropdown",o.CHECKBOX="checkbox",(n=t.FormFieldVariant||(t.FormFieldVariant={}</code></p><p><code>1253</code><code>)).UNSPECIFIED="unspecified",n.INPUT="input",n.TEXTAREA="textarea"}</code></p><p><code>1254</code><code>,8509:(e,t,n)=&gt;{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}</code></p><p><code>1255</code><code>),t.FormFieldVariant=t.FormFieldType=t.FormFieldCategory=t.FormFieldWidth=t.PreviewMessageType=t.RightsFormMode=t.CanonicalRightCode=t.SubscriptionItemType=t.UnsubscribeAllImpact=t.PreferenceCenterPage=t.QuickLinkAction=t.BannerButtonAction=t.SwitchButtonDisplay=t.FormFieldStyle=t.UnsubscribeFromAllPosition=t.SubscriptionListStyle=t.ExitButtonPosition=t.ModalContainerPosition=t.BannerContainerPosition=t.BannerContainerSize=t.BannerContainerLayout=t.ListLayout=t.ItemStyle=t.ButtonVariant=t.SubscriptionStatus=t.SubscriptionExperienceItemType=t.StorageOriginPolicy=t.ExperienceActionKind=t.ModalPosition=t.BannerPosition=t.SubscriptionControlPositionType=t.SubscriptionControlImpactType=t.SwitchTextRenderLogic=t.IdentityEncoding=t.IdentityFormat=t.IdentityType=t.CookieCategory=t.CookieProvenance=t.CookieDuration=t.MigrationOption=t.ExperiencePrimaryButtonAction=t.ExperienceButtonDestination=t.ExperienceDefault=t.SetConsentReason=t.ExperienceClosedReason=t.ConsentExperienceType=t.ExperienceDisplayType=t.ExperienceType=t.isTab=t.Tab=void 0,function(e){e.Overview="overviewTab",e.Rights="rightsTab",e.Consents="consentsTab",e.Subscriptions="subscriptionsTab"}</code></p><p><code>1256</code><code>(o=t.Tab||(t.Tab={}</code></p><p><code>1257</code><code>));const i=Object.values(o).map((e=&gt;e.toString()));var r,s,a,c,u,d,l,f,p,h,_,g,v,E,y,b,m,C,w,T,N,O,I,S,P,L,A,R,x,D,j,k,M,F,U,V,H,B,$,Y,K,G,W,z;t.isTab=function(e){return i.includes(e)}</code></p><p><code>1258</code><code>,(z=t.ExperienceType||(t.ExperienceType={}</code></p><p><code>1259</code><code>)).Consent="experiences.consent",z.Preference="experiences.preference",(W=t.ExperienceDisplayType||(t.ExperienceDisplayType={}</code></p><p><code>1260</code><code>)).Banner="experiencedisplays.banner",W.Modal="experiencedisplays.modal",W.Preference="experiencedisplays.preference",(G=t.ConsentExperienceType||(t.ConsentExperienceType={}</code></p><p><code>1261</code><code>)).Banner="experiences.consent.banner",G.Modal="experiences.consent.modal",G.JIT="experiences.consent.jit",(K=t.ExperienceClosedReason||(t.ExperienceClosedReason={}</code></p><p><code>1262</code><code>)).SET_CONSENT="setConsent",K.INVOKE_RIGHT="invokeRight",K.CLOSE="close",K.CLOSE_WITHOUT_SETTING_CONSENT="closeWithoutSettingConsent",K.WILL_NOT_SHOW="willNotShow",K.SET_SUBSCRIPTIONS="setSubscriptions",(Y=t.SetConsentReason||(t.SetConsentReason={}</code></p><p><code>1263</code><code>)).USER_UPDATE="userUpdate",Y.USER_EXPERIENCE_DISMISSAL="userExperienceDismissal",Y.DEFAULT_STATE="defaultState",($=t.ExperienceDefault||(t.ExperienceDefault={}</code></p><p><code>1264</code><code>))[$.BANNER=1]="BANNER",$[$.MODAL=2]="MODAL",(B=t.ExperienceButtonDestination||(t.ExperienceButtonDestination={}</code></p><p><code>1265</code><code>))[B.GOTO_MODAL=1]="GOTO_MODAL",B[B.GOTO_PREFERENCE=2]="GOTO_PREFERENCE",B[B.REJECT_ALL=3]="REJECT_ALL",(H=t.ExperiencePrimaryButtonAction||(t.ExperiencePrimaryButtonAction={}</code></p><p><code>1266</code><code>))[H.SAVE_CURRENT_STATE=1]="SAVE_CURRENT_STATE",H[H.ACCEPT_ALL=2]="ACCEPT_ALL",(V=t.MigrationOption||(t.MigrationOption={}</code></p><p><code>1267</code><code>))[V.MIGRATE_DEFAULT=0]="MIGRATE_DEFAULT",V[V.MIGRATE_NEVER=1]="MIGRATE_NEVER",V[V.MIGRATE_FROM_ALLOW=2]="MIGRATE_FROM_ALLOW",V[V.MIGRATE_FROM_DENY=3]="MIGRATE_FROM_DENY",V[V.MIGRATE_ALWAYS=4]="MIGRATE_ALWAYS",(U=t.CookieDuration||(t.CookieDuration={}</code></p><p><code>1268</code><code>))[U.SESSION=1]="SESSION",U[U.PERSISTENT=2]="PERSISTENT",(F=t.CookieProvenance||(t.CookieProvenance={}</code></p><p><code>1269</code><code>))[F.FIRST_PARTY=1]="FIRST_PARTY",F[F.THIRD_PARTY=2]="THIRD_PARTY",(M=t.CookieCategory||(t.CookieCategory={}</code></p><p><code>1270</code><code>))[M.STRICTLY_NECESSARY=1]="STRICTLY_NECESSARY",M[M.FUNCTIONAL=2]="FUNCTIONAL",M[M.PERFORMANCE=3]="PERFORMANCE",M[M.MARKETING=4]="MARKETING",(k=t.IdentityType||(t.IdentityType={}</code></p><p><code>1271</code><code>)).IDENTITY_TYPE_UNDEFINED="",k.IDENTITY_TYPE_DATA_LAYER="dataLayer",k.IDENTITY_TYPE_WINDOW="window",k.IDENTITY_TYPE_COOKIE="cookie",k.IDENTITY_TYPE_MANAGED="managedCookie",k.IDENTITY_TYPE_LOCAL_STORAGE="localStorage",k.IDENTITY_TYPE_SESSION_STORAGE="sessionStorage",k.IDENTITY_TYPE_QUERY_STRING="queryString",(j=t.IdentityFormat||(t.IdentityFormat={}</code></p><p><code>1272</code><code>)).IDENTITY_FORMAT_UNDEFINED="",j.IDENTITY_FORMAT_STRING="string",j.IDENTITY_FORMAT_JSON="json",j.IDENTITY_FORMAT_JWT="jwt",j.IDENTITY_FORMAT_QUERY="query",j.IDENTITY_FORMAT_SEMICOLON="semicolon",(D=t.IdentityEncoding||(t.IdentityEncoding={}</code></p><p><code>1273</code><code>)).IDENTITY_ENCODING_UNDEFINED="",D.IDENTITY_ENCODING_NONE="none",D.IDENTITY_ENCODING_BASE64="base64",(x=t.SwitchTextRenderLogic||(t.SwitchTextRenderLogic={}</code></p><p><code>1274</code><code>))[x.SWITCH_TEXT_RENDER_ALL=1]="SWITCH_TEXT_RENDER_ALL",x[x.SWITCH_TEXT_RENDER_LEGAL_BASIS=2]="SWITCH_TEXT_RENDER_LEGAL_BASIS",x[x.SWITCH_TEXT_RENDER_CHANGE=3]="SWITCH_TEXT_RENDER_CHANGE",x[x.SWITCH_TEXT_RENDER_NEVER=4]="SWITCH_TEXT_RENDER_NEVER",(R=t.SubscriptionControlImpactType||(t.SubscriptionControlImpactType={}</code></p><p><code>1275</code><code>))[R.UNSPECIFIED=0]="UNSPECIFIED",R[R.GLOBAL=1]="GLOBAL",R[R.LOCAL=2]="LOCAL",(A=t.SubscriptionControlPositionType||(t.SubscriptionControlPositionType={}</code></p><p><code>1276</code><code>))[A.UNSPECIFIED=0]="UNSPECIFIED",A[A.TOP=1]="TOP",A[A.BOTTOM=2]="BOTTOM",(L=t.BannerPosition||(t.BannerPosition={}</code></p><p><code>1277</code><code>))[L.BOTTOM=1]="BOTTOM",L[L.TOP=2]="TOP",L[L.BOTTOM_LEFT=3]="BOTTOM_LEFT",L[L.BOTTOM_RIGHT=4]="BOTTOM_RIGHT",(P=t.ModalPosition||(t.ModalPosition={}</code></p><p><code>1278</code><code>))[P.CENTER=1]="CENTER",P[P.LEFT_FULL_HEIGHT=2]="LEFT_FULL_HEIGHT",P[P.RIGHT_FULL_HEIGHT=3]="RIGHT_FULL_HEIGHT",(S=t.ExperienceActionKind||(t.ExperienceActionKind={}</code></p><p><code>1279</code><code>))[S.ShowExperience=0]="ShowExperience",S[S.HideExperience=1]="HideExperience",S[S.SetConsent=2]="SetConsent",S[S.SetSubscription=3]="SetSubscription",S[S.InvokeRight=4]="InvokeRight",(I=t.StorageOriginPolicy||(t.StorageOriginPolicy={}</code></p><p><code>1280</code><code>)).CrossOrigin="cross-origin",I.SameOrigin="same-origin,",(O=t.SubscriptionExperienceItemType||(t.SubscriptionExperienceItemType={}</code></p><p><code>1281</code><code>))[O.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_UNKNOWN=0]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_UNKNOWN",O[O.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_TOPIC=1]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_TOPIC",O[O.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_CONTROL=2]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_CONTROL",(N=t.SubscriptionStatus||(t.SubscriptionStatus={}</code></p><p><code>1282</code><code>)).Denied="denied",N.Granted="granted",(T=t.ButtonVariant||(t.ButtonVariant={}</code></p><p><code>1283</code><code>)).Outlined="outlined",T.Contained="contained",(w=t.ItemStyle||(t.ItemStyle={}</code></p><p><code>1284</code><code>)).Filled="filled",w.Outlined="outlined",(C=t.ListLayout||(t.ListLayout={}</code></p><p><code>1285</code><code>)).Expandable="expandable",C.Cards="cards",(m=t.BannerContainerLayout||(t.BannerContainerLayout={}</code></p><p><code>1286</code><code>)).Horizontal="horizontal",m.Vertical="vertical",m.Centered="centered",(b=t.BannerContainerSize||(t.BannerContainerSize={}</code></p><p><code>1287</code><code>)).Standard="standard",b.Compact="compact",(y=t.BannerContainerPosition||(t.BannerContainerPosition={}</code></p><p><code>1288</code><code>)).Bottom="bottom",y.Top="top",y.LeftCorner="leftCorner",y.RightCorner="rightCorner",y.BottomMiddle="bottomMiddle",y.Center="center",(E=t.ModalContainerPosition||(t.ModalContainerPosition={}</code></p><p><code>1289</code><code>)).Center="center",E.Left="left",E.Right="right",(v=t.ExitButtonPosition||(t.ExitButtonPosition={}</code></p><p><code>1290</code><code>)).topRight="topRight",v.bottomLeft="bottomLeft",(g=t.SubscriptionListStyle||(t.SubscriptionListStyle={}</code></p><p><code>1291</code><code>)).Filled="filled",g.Underlined="underlined",(_=t.UnsubscribeFromAllPosition||(t.UnsubscribeFromAllPosition={}</code></p><p><code>1292</code><code>)).Top="top",_.Bottom="bottom",(h=t.FormFieldStyle||(t.FormFieldStyle={}</code></p><p><code>1293</code><code>)).Box="box",h.Underline="underline",(p=t.SwitchButtonDisplay||(t.SwitchButtonDisplay={}</code></p><p><code>1294</code><code>)).Always="always",p.WhenLegalBasisDiffers="whenLegalBasisDiffers",(f=t.BannerButtonAction||(t.BannerButtonAction={}</code></p><p><code>1295</code><code>)).SaveCurrentState="saveCurrentState",f.AcceptAll="acceptAll",f.OpenModal="openModal",f.OpenPreferences="openPreferences",f.RejectAll="rejectAll",f.OpenURL="openURL",(l=t.QuickLinkAction||(t.QuickLinkAction={}</code></p><p><code>1296</code><code>)).OpenUrl="openUrl",l.OpenPage="openPage",(d=t.PreferenceCenterPage||(t.PreferenceCenterPage={}</code></p><p><code>1297</code><code>)).Welcome="welcome",d.PrivacyPolicy="privacyPolicy",d.Purpose="purpose",d.Subscriptions="subscriptions",d.RequestsHome="requestsHome",d.RequestsForm="requestsForm",d.RequestsSubmitted="requestsSubmitted",(u=t.UnsubscribeAllImpact||(t.UnsubscribeAllImpact={}</code></p><p><code>1298</code><code>)).Universal="universal",u.SingleExperience="singleExperience",(c=t.SubscriptionItemType||(t.SubscriptionItemType={}</code></p><p><code>1299</code><code>)).Unknown="unknown",c.Topic="topic",c.Control="control",(a=t.CanonicalRightCode||(t.CanonicalRightCode={}</code></p><p><code>1300</code><code>)).Get="get",a.Delete="delete",a.Restrict="restrict",a.Update="update",(s=t.RightsFormMode||(t.RightsFormMode={}</code></p><p><code>1301</code><code>)).Single="single",s.Custom="custom",(r=t.PreviewMessageType||(t.PreviewMessageType={}</code></p><p><code>1302</code><code>)).LoadConfig="loadConfig",r.ShowBanner="showBanner",r.ShowModal="showModal",r.ShowPreference="showPreferences",r.SwitchPreferencePage="switchPreferencePage";var X=n(7586);Object.defineProperty(t,"FormFieldWidth",{enumerable:!0,get:function(){return X.FormFieldWidth}</code></p><p><code>1303</code><code>}</code></p><p><code>1304</code><code>),Object.defineProperty(t,"FormFieldCategory",{enumerable:!0,get:function(){return X.FormFieldCategory}</code></p><p><code>1305</code><code>}</code></p><p><code>1306</code><code>),Object.defineProperty(t,"FormFieldType",{enumerable:!0,get:function(){return X.FormFieldType}</code></p><p><code>1307</code><code>}</code></p><p><code>1308</code><code>),Object.defineProperty(t,"FormFieldVariant",{enumerable:!0,get:function(){return X.FormFieldVariant}</code></p><p><code>1309</code><code>}</code></p><p><code>1310</code><code>)}</code></p><p><code>1311</code><code>,1635:(e,t,n)=&gt;{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=&gt;j,__assign:()=&gt;r,__asyncDelegator:()=&gt;N,__asyncGenerator:()=&gt;T,__asyncValues:()=&gt;O,__await:()=&gt;w,__awaiter:()=&gt;h,__classPrivateFieldGet:()=&gt;R,__classPrivateFieldIn:()=&gt;D,__classPrivateFieldSet:()=&gt;x,__createBinding:()=&gt;g,__decorate:()=&gt;a,__disposeResources:()=&gt;M,__esDecorate:()=&gt;u,__exportStar:()=&gt;v,__extends:()=&gt;i,__generator:()=&gt;_,__importDefault:()=&gt;A,__importStar:()=&gt;L,__makeTemplateObject:()=&gt;I,__metadata:()=&gt;p,__param:()=&gt;c,__propKey:()=&gt;l,__read:()=&gt;y,__rest:()=&gt;s,__rewriteRelativeImportExtension:()=&gt;F,__runInitializers:()=&gt;d,__setFunctionName:()=&gt;f,__spread:()=&gt;b,__spreadArray:()=&gt;C,__spreadArrays:()=&gt;m,__values:()=&gt;E,default:()=&gt;U}</code></p><p><code>1312</code><code>);var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}</code></p><p><code>1313</code><code>instanceof Array&amp;&amp;function(e,t){e.__proto__=t}</code></p><p><code>1314</code><code>||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&amp;&amp;(e[n]=t[n])}</code></p><p><code>1315</code><code>,o(e,t)}</code></p><p><code>1316</code><code>;function i(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}</code></p><p><code>1317</code><code>o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}</code></p><p><code>1318</code><code>var r=function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n&lt;o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e}</code></p><p><code>1319</code><code>,r.apply(this,arguments)}</code></p><p><code>1320</code><code>;function s(e,t){var n={}</code></p><p><code>1321</code><code>;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&amp;&amp;t.indexOf(o)&lt;0&amp;&amp;(n[o]=e[o]);if(null!=e&amp;&amp;"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i&lt;o.length;i++)t.indexOf(o[i])&lt;0&amp;&amp;Object.prototype.propertyIsEnumerable.call(e,o[i])&amp;&amp;(n[o[i]]=e[o[i]])}</code></p><p><code>1322</code><code>return n}</code></p><p><code>1323</code><code>function a(e,t,n,o){var i,r=arguments.length,s=r&lt;3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&amp;&amp;"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a&gt;=0;a--)(i=e[a])&amp;&amp;(s=(r&lt;3?i(s):r&gt;3?i(t,n,s):i(t,n))||s);return r&gt;3&amp;&amp;s&amp;&amp;Object.defineProperty(t,n,s),s}</code></p><p><code>1324</code><code>function c(e,t){return function(n,o){t(n,o,e)}</code></p><p><code>1325</code><code>}</code></p><p><code>1326</code><code>function u(e,t,n,o,i,r){function s(e){if(void 0!==e&amp;&amp;"function"!=typeof e)throw new TypeError("Function expected");return e}</code></p><p><code>1327</code><code>for(var a,c=o.kind,u="getter"===c?"get":"setter"===c?"set":"value",d=!t&amp;&amp;e?o.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,o.name):{}</code></p><p><code>1328</code><code>),f=!1,p=n.length-1;p&gt;=0;p--){var h={}</code></p><p><code>1329</code><code>;for(var _ in o)h[_]="access"===_?{}</code></p><p><code>1330</code><code>:o[_];for(var _ in o.access)h.access[_]=o.access[_];h.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");r.push(s(e||null))}</code></p><p><code>1331</code><code>;var g=(0,n[p])("accessor"===c?{get:l.get,set:l.set}</code></p><p><code>1332</code><code>:l[u],h);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&amp;&amp;(l.get=a),(a=s(g.set))&amp;&amp;(l.set=a),(a=s(g.init))&amp;&amp;i.unshift(a)}</code></p><p><code>1333</code><code>else(a=s(g))&amp;&amp;("field"===c?i.unshift(a):l[u]=a)}</code></p><p><code>1334</code><code>d&amp;&amp;Object.defineProperty(d,o.name,l),f=!0}</code></p><p><code>1335</code><code>function d(e,t,n){for(var o=arguments.length&gt;2,i=0;i&lt;t.length;i++)n=o?t[i].call(e,n):t[i].call(e);return o?n:void 0}</code></p><p><code>1336</code><code>function l(e){return"symbol"==typeof e?e:"".concat(e)}</code></p><p><code>1337</code><code>function f(e,t,n){return"symbol"==typeof t&amp;&amp;(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t}</code></p><p><code>1338</code><code>)}</code></p><p><code>1339</code><code>function p(e,t){if("object"==typeof Reflect&amp;&amp;"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}</code></p><p><code>1340</code><code>function h(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}</code></p><p><code>1341</code><code>catch(e){r(e)}</code></p><p><code>1342</code><code>}</code></p><p><code>1343</code><code>function a(e){try{c(o.throw(e))}</code></p><p><code>1344</code><code>catch(e){r(e)}</code></p><p><code>1345</code><code>}</code></p><p><code>1346</code><code>function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}</code></p><p><code>1347</code><code>))).then(s,a)}</code></p><p><code>1348</code><code>c((o=o.apply(e,t||[])).next())}</code></p><p><code>1349</code><code>))}</code></p><p><code>1350</code><code>function _(e,t){var n,o,i,r={label:0,sent:function(){if(1&amp;i[0])throw i[1];return i[1]}</code></p><p><code>1351</code><code>,trys:[],ops:[]}</code></p><p><code>1352</code><code>,s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&amp;&amp;(s[Symbol.iterator]=function(){return this}</code></p><p><code>1353</code><code>),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&amp;&amp;(s=0,a[0]&amp;&amp;(r=0)),r;)try{if(n=1,o&amp;&amp;(i=2&amp;a[0]?o.return:a[0]?o.throw||((i=o.return)&amp;&amp;i.call(o),0):o.next)&amp;&amp;!(i=i.call(o,a[1])).done)return i;switch(o=0,i&amp;&amp;(a=[2&amp;a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1}</code></p><p><code>1354</code><code>;case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length&gt;0&amp;&amp;i[i.length-1])||6!==a[0]&amp;&amp;2!==a[0])){r=0;continue}</code></p><p><code>1355</code><code>if(3===a[0]&amp;&amp;(!i||a[1]&gt;i[0]&amp;&amp;a[1]&lt;i[3])){r.label=a[1];break}</code></p><p><code>1356</code><code>if(6===a[0]&amp;&amp;r.label&lt;i[1]){r.label=i[1],i=a;break}</code></p><p><code>1357</code><code>if(i&amp;&amp;r.label&lt;i[2]){r.label=i[2],r.ops.push(a);break}</code></p><p><code>1358</code><code>i[2]&amp;&amp;r.ops.pop(),r.trys.pop();continue}</code></p><p><code>1359</code><code>a=t.call(e,r)}</code></p><p><code>1360</code><code>catch(e){a=[6,e],o=0}</code></p><p><code>1361</code><code>finally{n=i=0}</code></p><p><code>1362</code><code>if(5&amp;a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}</code></p><p><code>1363</code><code>}</code></p><p><code>1364</code><code>([a,c])}</code></p><p><code>1365</code><code>}</code></p><p><code>1366</code><code>}</code></p><p><code>1367</code><code>var g=Object.create?function(e,t,n,o){void 0===o&amp;&amp;(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&amp;&amp;!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}</code></p><p><code>1368</code><code>}</code></p><p><code>1369</code><code>),Object.defineProperty(e,o,i)}</code></p><p><code>1370</code><code>:function(e,t,n,o){void 0===o&amp;&amp;(o=n),e[o]=t[n]}</code></p><p><code>1371</code><code>;function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}</code></p><p><code>1372</code><code>function E(e){var t="function"==typeof Symbol&amp;&amp;Symbol.iterator,n=t&amp;&amp;e[t],o=0;if(n)return n.call(e);if(e&amp;&amp;"number"==typeof e.length)return{next:function(){return e&amp;&amp;o&gt;=e.length&amp;&amp;(e=void 0),{value:e&amp;&amp;e[o++],done:!e}</code></p><p><code>1373</code><code>}</code></p><p><code>1374</code><code>}</code></p><p><code>1375</code><code>;throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}</code></p><p><code>1376</code><code>function y(e,t){var n="function"==typeof Symbol&amp;&amp;e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||t-- &gt;0)&amp;&amp;!(o=r.next()).done;)s.push(o.value)}</code></p><p><code>1377</code><code>catch(e){i={error:e}</code></p><p><code>1378</code><code>}</code></p><p><code>1379</code><code>finally{try{o&amp;&amp;!o.done&amp;&amp;(n=r.return)&amp;&amp;n.call(r)}</code></p><p><code>1380</code><code>finally{if(i)throw i.error}</code></p><p><code>1381</code><code>}</code></p><p><code>1382</code><code>return s}</code></p><p><code>1383</code><code>function b(){for(var e=[],t=0;t&lt;arguments.length;t++)e=e.concat(y(arguments[t]));return e}</code></p><p><code>1384</code><code>function m(){for(var e=0,t=0,n=arguments.length;t&lt;n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t&lt;n;t++)for(var r=arguments[t],s=0,a=r.length;s&lt;a;s++,i++)o[i]=r[s];return o}</code></p><p><code>1385</code><code>function C(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i&lt;r;i++)!o&amp;&amp;i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}</code></p><p><code>1386</code><code>function w(e){return this instanceof w?(this.v=e,this):new w(e)}</code></p><p><code>1387</code><code>function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),r=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}</code></p><p><code>1388</code><code>}</code></p><p><code>1389</code><code>)),o[Symbol.asyncIterator]=function(){return this}</code></p><p><code>1390</code><code>,o;function s(e,t){i[e]&amp;&amp;(o[e]=function(t){return new Promise((function(n,o){r.push([e,t,n,o])&gt;1||a(e,t)}</code></p><p><code>1391</code><code>))}</code></p><p><code>1392</code><code>,t&amp;&amp;(o[e]=t(o[e])))}</code></p><p><code>1393</code><code>function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):d(r[0][2],n)}</code></p><p><code>1394</code><code>catch(e){d(r[0][3],e)}</code></p><p><code>1395</code><code>var n}</code></p><p><code>1396</code><code>function c(e){a("next",e)}</code></p><p><code>1397</code><code>function u(e){a("throw",e)}</code></p><p><code>1398</code><code>function d(e,t){e(t),r.shift(),r.length&amp;&amp;a(r[0][0],r[0][1])}</code></p><p><code>1399</code><code>}</code></p><p><code>1400</code><code>function N(e){var t,n;return t={}</code></p><p><code>1401</code><code>,o("next"),o("throw",(function(e){throw e}</code></p><p><code>1402</code><code>)),o("return"),t[Symbol.iterator]=function(){return this}</code></p><p><code>1403</code><code>,t;function o(o,i){t[o]=e[o]?function(t){return(n=!n)?{value:w(e[o](t)),done:!1}</code></p><p><code>1404</code><code>:i?i(t):t}</code></p><p><code>1405</code><code>:i}</code></p><p><code>1406</code><code>}</code></p><p><code>1407</code><code>function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=E(e),t={}</code></p><p><code>1408</code><code>,o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this}</code></p><p><code>1409</code><code>,t);function o(n){t[n]=e[n]&amp;&amp;function(t){return new Promise((function(o,i){!function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n}</code></p><p><code>1410</code><code>)}</code></p><p><code>1411</code><code>),t)}</code></p><p><code>1412</code><code>(o,i,(t=e[n](t)).done,t.value)}</code></p><p><code>1413</code><code>))}</code></p><p><code>1414</code><code>}</code></p><p><code>1415</code><code>}</code></p><p><code>1416</code><code>function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}</code></p><p><code>1417</code><code>):e.raw=t,e}</code></p><p><code>1418</code><code>var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t}</code></p><p><code>1419</code><code>)}</code></p><p><code>1420</code><code>:function(e,t){e.default=t}</code></p><p><code>1421</code><code>,P=function(e){return P=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&amp;&amp;(t[t.length]=n);return t}</code></p><p><code>1422</code><code>,P(e)}</code></p><p><code>1423</code><code>;function L(e){if(e&amp;&amp;e.__esModule)return e;var t={}</code></p><p><code>1424</code><code>;if(null!=e)for(var n=P(e),o=0;o&lt;n.length;o++)"default"!==n[o]&amp;&amp;g(t,e,n[o]);return S(t,e),t}</code></p><p><code>1425</code><code>function A(e){return e&amp;&amp;e.__esModule?e:{default:e}</code></p><p><code>1426</code><code>}</code></p><p><code>1427</code><code>function R(e,t,n,o){if("a"===n&amp;&amp;!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}</code></p><p><code>1428</code><code>function x(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&amp;&amp;!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}</code></p><p><code>1429</code><code>function D(e,t){if(null===t||"object"!=typeof t&amp;&amp;"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}</code></p><p><code>1430</code><code>function j(e,t,n){if(null!=t){if("object"!=typeof t&amp;&amp;"function"!=typeof t)throw new TypeError("Object expected.");var o,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}</code></p><p><code>1431</code><code>if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose],n&amp;&amp;(i=o)}</code></p><p><code>1432</code><code>if("function"!=typeof o)throw new TypeError("Object not disposable.");i&amp;&amp;(o=function(){try{i.call(this)}</code></p><p><code>1433</code><code>catch(e){return Promise.reject(e)}</code></p><p><code>1434</code><code>}</code></p><p><code>1435</code><code>),e.stack.push({value:t,dispose:o,async:n}</code></p><p><code>1436</code><code>)}</code></p><p><code>1437</code><code>else n&amp;&amp;e.stack.push({async:!0}</code></p><p><code>1438</code><code>);return t}</code></p><p><code>1439</code><code>var k="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var o=new Error(n);return o.name="SuppressedError",o.error=e,o.suppressed=t,o}</code></p><p><code>1440</code><code>;function M(e){function t(t){e.error=e.hasError?new k(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}</code></p><p><code>1441</code><code>var n,o=0;return function i(){for(;n=e.stack.pop();)try{if(!n.async&amp;&amp;1===o)return o=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(r).then(i,(function(e){return t(e),i()}</code></p><p><code>1442</code><code>))}</code></p><p><code>1443</code><code>else o|=1}</code></p><p><code>1444</code><code>catch(e){t(e)}</code></p><p><code>1445</code><code>if(1===o)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}</code></p><p><code>1446</code><code>()}</code></p><p><code>1447</code><code>function F(e,t){return"string"==typeof e&amp;&amp;/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,o,i,r){return n?t?".jsx":".js":!o||i&amp;&amp;r?o+i+"."+r.toLowerCase()+"js":e}</code></p><p><code>1448</code><code>)):e}</code></p><p><code>1449</code><code>const U={__extends:i,__assign:r,__rest:s,__decorate:a,__param:c,__esDecorate:u,__runInitializers:d,__propKey:l,__setFunctionName:f,__metadata:p,__awaiter:h,__generator:_,__createBinding:g,__exportStar:v,__values:E,__read:y,__spread:b,__spreadArrays:m,__spreadArray:C,__await:w,__asyncGenerator:T,__asyncDelegator:N,__asyncValues:O,__makeTemplateObject:I,__importStar:L,__importDefault:A,__classPrivateFieldGet:R,__classPrivateFieldSet:x,__classPrivateFieldIn:D,__addDisposableResource:j,__disposeResources:M,__rewriteRelativeImportExtension:F}</code></p><p><code>1450</code><code>}</code></p><p><code>1451</code><code>,8163:e=&gt;{"use strict";e.exports={version:"0.0.0"}</code></p><p><code>1452</code><code>}</code></p><p><code>1453</code><code>}</code></p><p><code>1454</code><code>,t={}</code></p><p><code>1455</code><code>;function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}</code></p><p><code>1456</code><code>}</code></p><p><code>1457</code><code>;return e[o].call(r.exports,r,r.exports,n),r.exports}</code></p><p><code>1458</code><code>n.d=(e,t)=&gt;{for(var o in t)n.o(t,o)&amp;&amp;!n.o(e,o)&amp;&amp;Object.defineProperty(e,o,{enumerable:!0,get:t[o]}</code></p><p><code>1459</code><code>)}</code></p><p><code>1460</code><code>,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}</code></p><p><code>1461</code><code>catch(e){if("object"==typeof window)return window}</code></p><p><code>1462</code><code>}</code></p><p><code>1463</code><code>(),n.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t),n.r=e=&gt;{"undefined"!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}</code></p><p><code>1464</code><code>),Object.defineProperty(e,"__esModule",{value:!0}</code></p><p><code>1465</code><code>)}</code></p><p><code>1466</code><code>,(()=&gt;{"use strict";const e=n(1635),t=n(549),o=e.__importDefault(n(5307));window.semaphore=window.semaphore||[],window.semaphore.push(["registerPlugin",o.default]),(0,t.boot)()}</code></p><p><code>1467</code><code>)()}</code></p><p><code>1468</code><code>)();</code></p>
<div></div></main><iframe hidden="hidden" title="Hidden frame for spell checking" src="about:blank" id="iframeSpelling"></iframe></body></html>